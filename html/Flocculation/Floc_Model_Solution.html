

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Flocculation Model Solution &mdash; AguaClara Textbook  documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Flocculator Design Solution" href="Floc_Design_Solution.html" />
    <link rel="prev" title="Mechanical Flocculator Solution" href="Floc_Mechanical_Solution.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> AguaClara Textbook
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Acknowledgements</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Acknowledgements.html">Acknowledgements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Authors.html">Authors</a></li>
</ul>
<p class="caption"><span class="caption-text">Chapter 1: Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Introduction/Introduction.html">Introduction to AguaClara Water Treatment Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Introduction/Python_Tutorial.html">Python Tutorial</a></li>
</ul>
<p class="caption"><span class="caption-text">Chapter 2: Review: Fluid Mechanics and Python</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Review/Review_Fluid_Mechanics.html">Review: Fluid Mechanics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Review/Review_Fluid_Mechanics_Derivations.html">Review: Fluid Mechanics Derivations</a></li>
</ul>
<p class="caption"><span class="caption-text">Chapter 3: Flow Control and Measurement</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Flow_Control_and_Measurement/FCM_Intro.html">Flow Control and Measurement Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Flow_Control_and_Measurement/FCM_Design.html">Flow Control and Measurement Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Flow_Control_and_Measurement/FCM_Derivations.html">Flow Control and Measurement Derivations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Flow_Control_and_Measurement/FCM_Solution.html">Flow Control and Measurement Solution</a></li>
</ul>
<p class="caption"><span class="caption-text">Chapter 5: Fluid Deformation and Energy Dissipation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Fluid_Deformation_and_Energy_Dissipation/FDED_Intro.html">Fluid Deformation and Energy Dissipation Derivations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Fluid_Deformation_and_Energy_Dissipation/FDED_Derivations.html">Fluid Deformation and Energy Dissipation Derivations</a></li>
</ul>
<p class="caption"><span class="caption-text">Chapter 6: Chemistry of Water Treatment</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Chemistry_of_Water_Treatment/Chemistry_Intro.html">Chemistry of Water Treatment Derivations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Chemistry_of_Water_Treatment/Chemistry_Derivations.html">Chemistry of Water Treatment Introduction</a></li>
</ul>
<p class="caption"><span class="caption-text">Chapter 7: Rapid Mix</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Rapid_Mix/RM_Intro.html">Rapid Mix Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Rapid_Mix/RM_Design.html">Rapid Mix Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Rapid_Mix/RM_Derivations.html">Rapid Mix Derivations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Rapid_Mix/RM_Examples.html">Rapid Mix Appendix C: Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Rapid_Mix/RM_Theory_and_Future_Work.html">Rapid Mix Theory and Future Work</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Rapid_Mix/RM_Mechanical_Solution.html">Rapid Mix Mechanical Solution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Rapid_Mix/RM_Design_Solution.html">Rapid Mix Design Solution</a></li>
</ul>
<p class="caption"><span class="caption-text">Chapter 8: Flocculation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Floc_Intro.html">Flocculation Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="Floc_Model.html">Flocculation Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="Floc_Design.html">Flocculation Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="Floc_Derivations.html">Flocculation Derivations</a></li>
<li class="toctree-l1"><a class="reference internal" href="Floc_Theory_and_Future_Work.html">Flocculation Theory and Future Work</a></li>
<li class="toctree-l1"><a class="reference internal" href="Floc_Examples.html">Flocculation Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="Floc_Mechanical_Solution.html">Mechanical Flocculator Solution</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Flocculation Model Solution</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#id1">1)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id2">2)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id3">3)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id4">4)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id5">5)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id6">6)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id7">7)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#real-world-considerations-of-flocculation">Real-world considerations of flocculation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#coagulant-distribution-in-a-reactor">Coagulant distribution in a reactor</a></li>
<li class="toctree-l4"><a class="reference internal" href="#time-scale-of-flocculation">Time scale of flocculation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#aguaclara-flocculation-model">AguaClara flocculation model</a></li>
<li class="toctree-l4"><a class="reference internal" href="#coagulant-coverage-fraction-of-a-particle">Coagulant coverage fraction of a particle</a></li>
<li class="toctree-l4"><a class="reference internal" href="#residence-time-and-coagulant-coverage">Residence time and coagulant coverage</a></li>
<li class="toctree-l4"><a class="reference internal" href="#modeling-flocculation-in-the-presence-of-humic-acid-with-pc-as-the-performance-metric">Modeling flocculation in the presence of humic acid, with pC* as the performance metric</a></li>
<li class="toctree-l4"><a class="reference internal" href="#modeling-flocculation-in-the-presence-of-humic-acid-with-settled-water-turbidity-as-the-performance-metric">Modeling flocculation in the presence of humic acid, with settled water turbidity as the performance metric</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id8">8)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id9">9)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Floc_Design_Solution.html">Flocculator Design Solution</a></li>
</ul>
<p class="caption"><span class="caption-text">Chapter 9: Sedimentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Sedimentation/Sed_Intro.html">Sedimentation Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Sedimentation/Sed_Design.html">Sedimentation Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Sedimentation/Sed_Derivations.html">Sedimentation Derivations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Sedimentation/Sed_Theory_and_Future_Work.html">Sedimentation Theory and Future Work</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Sedimentation/Sed_Examples.html">Sedimentation Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Sedimentation/Sed_Design_Solution.html">Sedimentation Design Solution</a></li>
</ul>
<p class="caption"><span class="caption-text">Chapter 10: Filtration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Filtration/Filtration_Intro.html">Filtration  Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Filtration/Filtration_Design.html">Filtration Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Filtration/Filtration_Theory_and_Future_Work.html">Filtration Theory and Future Work</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Filtration/Filtration_Design_Solution.html">Filtration Design Solution</a></li>
</ul>
<p class="caption"><span class="caption-text">Chapter 11: Hydraulics</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Hydraulics/Hydraulics_Intro.html">Hydraulics Introduction</a></li>
</ul>
<p class="caption"><span class="caption-text">Chapter 12: Dissolved Gas</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Dissolved_Gas/DG_Intro.html">Dissolved Gas Introduction</a></li>
</ul>
<p class="caption"><span class="caption-text">Chapter 13: Fluoride</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Fluoride/Fluoride_Intro.html">Fluoride Introduction</a></li>
</ul>
<p class="caption"><span class="caption-text">Chapter 14: Wastewater</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../WasteWater/WW_Theory_and_Future_Work.html">WasteWater Theory and Future Work</a></li>
</ul>
<p class="caption"><span class="caption-text">Chapter 15: Troubleshooting</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Troubleshooting/Troubleshooting.html">Problems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Troubleshooting/Troubleshooting.html#solutions">Solutions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Troubleshooting/Troubleshooting.html#proposed-solutions-to-eliminate-iron-oxidizing-slime-bacteria">Proposed solutions to eliminate iron oxidizing slime bacteria</a></li>
</ul>
<p class="caption"><span class="caption-text">Contributor's guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Textbook_Creation_Help/rst_intro.html">Introduction to RST and Sphinx for Textbook Contributors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Textbook_Creation_Help/example_aguaclara_rst.html">Functionality in RST and AguaClara Convention</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Textbook_Creation_Help/parameter_convention_list.html">Parameter Convention List</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">AguaClara Textbook</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Flocculation Model Solution</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/Flocculation/Floc_Model_Solution.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="flocculation-model-solution">
<h1>Flocculation Model Solution<a class="headerlink" href="#flocculation-model-solution" title="Permalink to this headline">¶</a></h1>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">aguaclara.core.physchem</span> <span class="k">as</span> <span class="nn">pc</span>
<span class="kn">from</span> <span class="nn">aguaclara.core.units</span> <span class="k">import</span> <span class="n">unit_registry</span> <span class="k">as</span> <span class="n">u</span>

<span class="kn">import</span> <span class="nn">aguaclara.research.floc_model</span> <span class="k">as</span> <span class="nn">fm</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
</pre></div>
</div>
<p>Many of the fractal floc equations are available in the <code class="docutils literal notranslate"><span class="pre">floc_model.py</span></code> file in the aguaclara repository. Look through <code class="docutils literal notranslate"><span class="pre">`floc_model.py</span></code> &lt;<a class="reference external" href="https://github.com/AguaClara/aguaclara/blob/master/aguaclara/research/floc_model.py">https://github.com/AguaClara/aguaclara/blob/master/aguaclara/research/floc_model.py</a>&gt;`_ within the aguaclara repository. The following constants are defined in that file. NTU has been defined as an approximate empirical relationship between the concentration of kaolin clay and the turbidity, such that 1 NTU is equivalent to 1.7 mg/L. The diameter of a primary clay particle is assumed to be 7 micrometers. The fractal dimension for flocs is defined as <code class="docutils literal notranslate"><span class="pre">DIM_FRACTAL</span></code> and is equal to 2.3. We are using PACl as a coagulant for this analysis, so you shall call <code class="docutils literal notranslate"><span class="pre">fm.PACl</span></code>, when a function within <code class="docutils literal notranslate"><span class="pre">floc_model.py</span></code> requires ‘coag’ as an input.</p>
<p>Whenever possible, use variables defined within <code class="docutils literal notranslate"><span class="pre">floc_model.py</span></code> instead of redefining them. Relevant variables defined in <code class="docutils literal notranslate"><span class="pre">floc_model.py</span></code> include: 1. <code class="docutils literal notranslate"><span class="pre">DIM_FRACTAL</span></code> with an estimated value of 2.3.</p>
<ol class="arabic simple">
<li><code class="docutils literal notranslate"><span class="pre">PACl</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">Clay</span></code></li>
</ol>
<div class="section" id="id1">
<h2>1)<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p>Estimate the diameter of the flocs that interact with the tip of the impeller of the mechanical flocculator analyzed above. We don’t yet have a good model to predict maximum floc size as a function of velocity gradient or energy dissipation rate. We have a rough estimate, <code class="docutils literal notranslate"><span class="pre">fm.diam_floc_max(EDRmax)</span></code> based on a small amount of data.</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ratio_prop_vel</span> <span class="o">=</span> <span class="mf">0.75</span>
<span class="n">pi_plate</span> <span class="o">=</span> <span class="mf">0.04</span>
<span class="n">vel_prop</span> <span class="o">=</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">ft</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">s</span>
<span class="n">height_prop</span> <span class="o">=</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">cm</span>

<span class="n">ed_rate_prop_max</span> <span class="o">=</span> <span class="n">pi_plate</span> <span class="o">*</span> <span class="p">((</span><span class="n">ratio_prop_vel</span> <span class="o">*</span>  <span class="n">vel_prop</span><span class="p">)</span><span class="o">**</span><span class="mi">3</span> <span class="o">/</span> <span class="n">height_prop</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">mW</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">kg</span><span class="p">)</span>

<span class="c1">#answer</span>
<span class="n">diam_floc_mech</span> <span class="o">=</span> <span class="n">fm</span><span class="o">.</span><span class="n">diam_floc_max</span><span class="p">(</span><span class="n">ed_rate_prop_max</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">um</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The diameter of the flocs that interact with the impeller is&#39;</span><span class="p">,</span> <span class="n">diam_floc_mech</span><span class="p">,</span> <span class="s1">&#39;.&#39;</span><span class="p">)</span>
<span class="n">x</span><span class="o">=</span><span class="n">fm</span><span class="o">.</span><span class="n">DIM_FRACTAL</span>
<span class="n">x</span>
</pre></div>
</div>
<p>The diameter of the flocs that interact with the impeller is 127 um.</p>
</div>
<div class="section" id="id2">
<h2>2)<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p>Estimate the terminal sedimentation velocity in mm/s of the flocs that interact with the tip of the impeller of the mechanical flocculator analyzed above. Use the function <code class="docutils literal notranslate"><span class="pre">fm.vel_term_floc</span></code>. You may assume that the flocs were made from a particle suspension that had 1.5 mg/L of aluminum and 100 NTU of clay.</p>
<p>Note: AguaClara has defined the unit NTU as <code class="docutils literal notranslate"><span class="pre">u.NTU</span></code>.</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#answer</span>
<span class="n">conc_Al</span> <span class="o">=</span> <span class="mf">1.5</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">mg</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">L</span>
<span class="n">conc_clay</span><span class="o">=</span><span class="mi">100</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">NTU</span>
<span class="n">vel_term_floc_tip</span> <span class="o">=</span> <span class="n">fm</span><span class="o">.</span><span class="n">vel_term_floc</span><span class="p">(</span><span class="n">conc_Al</span><span class="p">,</span> <span class="n">conc_clay</span><span class="p">,</span> <span class="n">fm</span><span class="o">.</span><span class="n">PACl</span><span class="p">,</span>
                                       <span class="n">fm</span><span class="o">.</span><span class="n">Clay</span><span class="p">,</span> <span class="n">fm</span><span class="o">.</span><span class="n">DIM_FRACTAL</span><span class="p">,</span>
                                       <span class="n">diam_floc_mech</span><span class="p">,</span> <span class="n">temp_design</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">mm</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">s</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The terminal velocity of flocs that interact with the impeller tip is estimated to be&#39;</span><span class="p">,</span> <span class="n">vel_term_floc_tip</span><span class="p">)</span>
</pre></div>
</div>
<p>The terminal velocity of flocs that interact with the impeller tip is estimated to be 0.738 mm/s</p>
</div>
<div class="section" id="id3">
<h2>3)<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<p>Would these flocs be captured by a conventional design for a sedimentation tank <a class="reference external" href="http://10statesstandards.com/waterrev2012.pdf">(10 State Standards)</a> with a capture velocity of 1.2 m/hr? The capture velocity is a property of the sedimentation tank. If the floc settles faster than the capture velocity, then theoretically the floc will be captured by the sedimentation tank.</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#answer</span>
<span class="n">vel_capture_10_state</span> <span class="o">=</span> <span class="p">(</span><span class="mf">1.2</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">m</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">hr</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">mm</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">s</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The 10 State Standards capture velocity is&#39;</span><span class="p">,</span> <span class="n">vel_capture_10_state</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The 10 State Standards sedimentation tank would capture the flocs that are able to survive the energy dissipation rate at the tip of the propeller. &quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>The 10 State Standards capture velocity is 0.333 mm/s
The 10 State Standards sedimentation tank would capture the flocs that are able to survive the energy dissipation rate at the tip of the propeller.</p>
<p>These flocs would be removed easily in an AguaClara sedimentation tank (capture velocity of 0.12 mm/s). However, our use of the empirical equation to predict the size of these flocs is questionable because we are extrapolating way beyond the original data. We need more experiments to characterize the size of flocs as a function of the velocity gradient.</p>
</div>
<div class="section" id="id4">
<h2>4)<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h2>
<p>Estimate the average distance between primary clay particles at the beginning and end of flocculation given an initial turbidity of 100 NTU and a target effluent unflocculated clay concentration at the end of flocculation of less than 1 NTU. Of course, the clay concentration is actually constant in flocculation since particles are not actually being removed. But here we are referring to the primary clay particles that have escaped aggregation and thus are still unattached.</p>
<p>You can do this by figuring it out empirically (brownie points!) or by looking for a function that finds average distance between particles.</p>
<p>A little extra to think about (not necessary to answer): The AguaClara floccuation model assumes that primary clay particles mostly attach to other primary clay particles and not to larger flocs (aggregates of clay particles). Can you think of why this is?</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#answer</span>
<span class="n">init_sep_dist_clay</span> <span class="o">=</span> <span class="n">fm</span><span class="o">.</span><span class="n">sep_dist_clay</span><span class="p">(</span><span class="mi">100</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">NTU</span><span class="p">,</span> <span class="n">fm</span><span class="o">.</span><span class="n">Clay</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">mm</span><span class="p">)</span>
<span class="n">final_sep_dist_clay</span> <span class="o">=</span> <span class="n">fm</span><span class="o">.</span><span class="n">sep_dist_clay</span><span class="p">(</span><span class="mi">1</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">NTU</span><span class="p">,</span> <span class="n">fm</span><span class="o">.</span><span class="n">Clay</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">mm</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The average distance between clay particles at 100 NTU is&#39;</span><span class="p">,</span> <span class="n">init_sep_dist_clay</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The average distance between clay particles at 1 NTU is&#39;</span><span class="p">,</span> <span class="n">final_sep_dist_clay</span><span class="p">)</span>
</pre></div>
</div>
<p>The average distance between clay particles at 100 NTU is 0.141 mm
The average distance between clay particles at 1 NTU is 0.654 mm</p>
</div>
<div class="section" id="id5">
<h2>5)<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h2>
<p>What is the inner viscous length scale in the mechanical flocculator at the maximum energy dissipation rate? Given that this is a very high energy dissipation rate for flocculation, it corresponds to a very small inner viscous length scale. This means that eddies are able to survive down to a small size before viscosity damps their motion. If the separation distance between clay particles that haven’t turned into flocs is less than this inner viscous scale, then it is reasonable to assume that all flocculation is dominated by viscosity. The function within <code class="docutils literal notranslate"><span class="pre">floc_model.py</span></code> that does this is confusingly named
<code class="docutils literal notranslate"><span class="pre">lamba_vel()</span></code>.</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#answer</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The inner viscous length scale is&#39;</span><span class="p">,</span> <span class="n">fm</span><span class="o">.</span><span class="n">lambda_vel</span><span class="p">(</span><span class="n">ed_rate_prop_max</span><span class="p">,</span> <span class="n">temp_design</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">mm</span><span class="p">))</span>
</pre></div>
</div>
<p>The inner viscous length scale is 2.39 mm</p>
</div>
<div class="section" id="id6">
<h2>6)<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h2>
<p>Below is a graph showing the inner viscous length scale that divides flows that are dominated by inertia (eddies) from flows where viscosity is significant. <strong>Add the data point</strong> representing the maximum energy dissipation rate vs the maximum clay separation distance at the end of flocculation for the mechanical flocculator you have been designing.</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#This code is provided to help you make your graph</span>

<span class="c1">#Creates the array for energy dissipation rates (EDRs)</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">logspace</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="mi">4</span><span class="p">)</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">mW</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">kg</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="s1">&#39;Inner Viscous Scale&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Inner Viscous Scale vs Energy Dissipation Rate&#39;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">ylabel</span><span class="o">=</span><span class="s1">&#39;Inner Viscous Scale (mm)&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">xlabel</span><span class="o">=</span><span class="s1">&#39;Energy Dissipation Rate(mW/kg)&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">yscale</span><span class="p">(</span><span class="s1">&#39;log&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xscale</span><span class="p">(</span><span class="s1">&#39;log&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">b</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">which</span><span class="o">=</span><span class="s1">&#39;major&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">b</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">which</span><span class="o">=</span><span class="s1">&#39;minor&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>

<span class="c1">#fm.lambda_vel, which returns the inner viscous length scale,</span>
<span class="c1">#is being applied to the array of EDRs for our design temperature</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">fm</span><span class="o">.</span><span class="n">lambda_vel</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">temp_design</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">mm</span><span class="p">),</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span>

<span class="c1">#------------------------------------------------------------------------</span>
<span class="c1">#----------------------------YOUR CODE BELOW-----------------------------</span>
<span class="c1">#------------------------------------------------------------------------</span>
<span class="c1">#answer</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ed_rate_prop_max</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">mW</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">kg</span><span class="p">),</span> <span class="n">final_sep_dist_clay</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">mm</span><span class="p">),</span> <span class="s1">&#39;ko&#39;</span><span class="p">)</span>



<span class="nb">print</span><span class="p">(</span><span class="n">final_sep_dist_clay</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ed_rate_prop_max</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<dl class="docutils">
<dt>0.6541789493547243 millimeter</dt>
<dd>422.57902694348155 milliwatt / kilogram</dd>
</dl>
</div>
<div class="section" id="id7">
<h2>7)<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h2>
<p>According to the plot and analysis above, are the collisions between clay particles at a concentration of 1 NTU dominated by inertia or by viscosity? Explain why!</p>
<p>The final spacing between clay particles is still smaller than the inner viscous length scale at which eddies are damped by viscosity. This suggests that all collisions in flocculation are dominated by viscosity.</p>
<div class="section" id="real-world-considerations-of-flocculation">
<h3>Real-world considerations of flocculation<a class="headerlink" href="#real-world-considerations-of-flocculation" title="Permalink to this headline">¶</a></h3>
<p>Now that you have an augmented understanding of flocculation theory, we can consider a few ways in which the theory applies to real-world flocculators.</p>
<p>In this section, there are no calculations for you to do or code for you to write - everything has been provided for you. This was done to shorten this design challenge while still detailing relevant and important information.</p>
<blockquote>
<div><strong>There are two conceptual questions for you to answer at the end of the section.</strong> Read through and focus on understanding the concepts before you try to answer the questions.</div></blockquote>
<div class="section" id="coagulant-distribution-in-a-reactor">
<h4>Coagulant distribution in a reactor<a class="headerlink" href="#coagulant-distribution-in-a-reactor" title="Permalink to this headline">¶</a></h4>
<p>The flocculation model accounts for loss of coagulant nanoparticles to the reactor walls. The loss of coagulant nanoparticles is assumed to scale with the area of the flocculator walls divided by the total area of clay and flocculator walls. This loss is significant for low turbidity and small scale flocculators, such as the 1 liter per second flocculator AguaClara recently designed.</p>
<p>Here we will consider a flocculator built out of pipe, not one contained within a rectangular reactor. The <code class="docutils literal notranslate"><span class="pre">diam_tube</span></code> parameter is the flocculator diameter and is needed to estimate how much of the coagulant is lost to the walls of the flocculator. We will assume the flocculator tube is for the 1 L/s plant and has a diameter of 7.5 cm</p>
<p>We will evaluate the situation where the turbidity is 10 NTU and the coagulant dose is 1 mg/L of aluminum. The code below does the following:</p>
<ul class="simple">
<li>Estimates the fraction of coagulant nanoparticles lost to the flocculator walls.</li>
<li>Estimates the fraction of the clay surface area that is coated with nanoparticles.</li>
</ul>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">diam_tube</span> <span class="o">=</span> <span class="mf">7.5</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">cm</span>
<span class="n">conc_clay</span> <span class="o">=</span> <span class="mi">100</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">NTU</span>
<span class="n">conc_Al</span> <span class="o">=</span> <span class="mf">0.5</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">mg</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">L</span>


<span class="c1">#fm.ratio_area_clay_total() returns fraction (between 0 and 1) that represents the surface area of</span>
<span class="c1">#the clay particle over the sum of the surface area of the clay and reactor walls</span>

<span class="n">wall_loss</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">fm</span><span class="o">.</span><span class="n">ratio_area_clay_total</span><span class="p">(</span><span class="n">conc_clay</span><span class="p">,</span> <span class="n">fm</span><span class="o">.</span><span class="n">Clay</span><span class="p">,</span> <span class="n">diam_tube</span><span class="p">,</span> <span class="n">fm</span><span class="o">.</span><span class="n">RATIO_HEIGHT_DIAM</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The fraction of the coagulant lost to the walls is&#39;</span><span class="p">,</span> <span class="n">wall_loss</span><span class="p">)</span>

<span class="c1">#fm.gamma_coag() returns the fraction of clay that is covered by coagulant. This is a very hard parameter</span>
<span class="c1">#to actually measure, so this is just an estimate.</span>

<span class="n">fraction_coated</span> <span class="o">=</span> <span class="n">fm</span><span class="o">.</span><span class="n">gamma_coag</span><span class="p">(</span><span class="n">conc_clay</span><span class="p">,</span><span class="n">conc_Al</span><span class="p">,</span> <span class="n">fm</span><span class="o">.</span><span class="n">PACl</span><span class="p">,</span>
                                  <span class="n">fm</span><span class="o">.</span><span class="n">Clay</span><span class="p">,</span> <span class="n">diam_tube</span><span class="p">,</span> <span class="n">fm</span><span class="o">.</span><span class="n">RATIO_HEIGHT_DIAM</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The fraction of the clay surface area that is is coated is&#39;</span><span class="p">,</span> <span class="n">fraction_coated</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="time-scale-of-flocculation">
<h4>Time scale of flocculation<a class="headerlink" href="#time-scale-of-flocculation" title="Permalink to this headline">¶</a></h4>
<p>Now we want to estimate the average time required for an initial successful collision between two primary clay particles that are partially coated with coagulant nanoclusters. Note that for the first collision, the current floc size is the same as the clay size. We will use the average energy dissipation rate for the mechanical flocculator as found above.</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ed_rate_mech_ave</span> <span class="o">=</span> <span class="mf">6.4</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">mW</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">kg</span>

<span class="n">time_first_collision</span> <span class="o">=</span> <span class="n">fm</span><span class="o">.</span><span class="n">time_col_laminar</span><span class="p">(</span><span class="n">ed_rate_mech_ave</span><span class="p">,</span> <span class="mi">10</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">degC</span><span class="p">,</span>
                                             <span class="n">conc_Al</span><span class="p">,</span> <span class="n">conc_clay</span><span class="p">,</span> <span class="n">fm</span><span class="o">.</span><span class="n">PACl</span><span class="p">,</span>
                                             <span class="n">fm</span><span class="o">.</span><span class="n">Clay</span><span class="p">,</span> <span class="n">fm</span><span class="o">.</span><span class="n">Clay</span><span class="o">.</span><span class="n">Diameter</span><span class="p">,</span> <span class="n">diam_tube</span><span class="p">,</span>
                                             <span class="n">fm</span><span class="o">.</span><span class="n">DIM_FRACTAL</span><span class="p">,</span> <span class="n">fm</span><span class="o">.</span><span class="n">RATIO_HEIGHT_DIAM</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">s</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The time required for the first succesful collision is&#39;</span><span class="p">,</span> <span class="n">time_first_collision</span><span class="p">)</span>
</pre></div>
</div>
<p>This collision time is quite fast and is the origin of the question, “why does flocculation require 30 minutes?” as mandated in the Ten State Standards.</p>
</div>
<div class="section" id="aguaclara-flocculation-model">
<h4>AguaClara flocculation model<a class="headerlink" href="#aguaclara-flocculation-model" title="Permalink to this headline">¶</a></h4>
<p>We will now briefly consider an AguaClara flocculator design with an average energy dissipation rate of approximately 11 mW/kg and a residence time of 8.1 minutes. The design temperature is 15 degC.</p>
<p>Below is a calculation for the Gt value of this flocculator.</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#answer</span>
<span class="n">ed_rate_floc_aguaclara</span> <span class="o">=</span> <span class="mi">11</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">mW</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">kg</span>
<span class="n">time_floc_aguaclara</span> <span class="o">=</span> <span class="mf">8.1</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">minute</span>
<span class="n">temp_design_aguaclara</span> <span class="o">=</span> <span class="mi">15</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">degC</span>

<span class="c1">#This equation for G can be found in the course slides (all equations you see in design challenges can be found in the slides)</span>
<span class="n">G_floc_aguaclara</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">ed_rate_floc_aguaclara</span><span class="o">/</span><span class="n">pc</span><span class="o">.</span><span class="n">viscosity_kinematic</span><span class="p">(</span><span class="n">temp_design_aguaclara</span><span class="p">))</span>
<span class="n">Gtime_floc_aguaclara</span> <span class="o">=</span> <span class="p">(</span><span class="n">G_floc_aguaclara</span><span class="o">*</span><span class="n">time_floc_aguaclara</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">dimensionless</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The AguaClara Gt value is&#39;</span><span class="p">,</span> <span class="n">Gtime_floc_aguaclara</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="coagulant-coverage-fraction-of-a-particle">
<h4>Coagulant coverage fraction of a particle<a class="headerlink" href="#coagulant-coverage-fraction-of-a-particle" title="Permalink to this headline">¶</a></h4>
<p>This section solves the integrated flocculation model for <span class="math notranslate nohighlight">\(\Gamma\)</span>. We simplify the model by recognizing that the spacing between particles at the end of the flocculation process is much greater than the initial particle spacing. This means that the raw water turbidity drops out of the equation. The value of the rate constant for collisions is k = 0.24. We start with the equation below:</p>
<div class="math notranslate nohighlight" id="equation-flocculation-floc-model-solution-0">
<span class="eqno">(407)<a class="headerlink" href="#equation-flocculation-floc-model-solution-0" title="Permalink to this equation">¶</a></span>\[\Gamma = \frac{3}{2}\cdot \frac{\Lambda^2 }{\mathit{k} \pi d_{p}^2 Gt }\]</div>
<p>We then estimate the required coagulant coverage of clay, <span class="math notranslate nohighlight">\(\Gamma\)</span>, for the AguaClara flocculator to achieve a 2 NTU settled water turbidity when starting with a raw water that is 50 NTU.</p>
<p>Note that the specified flocculation model applies to both hydraulic and mechanical flocculators.</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#Fitting constant/Sedimentation tank factor</span>
<span class="n">k</span> <span class="o">=</span> <span class="mf">0.24</span>

<span class="c1">#gamma_aguaclara_design uses functions in floc_model.py to solve the equation in the problem statement</span>
<span class="n">conc_clay_goal</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">NTU</span>
<span class="n">gamma_aguaclara_design</span> <span class="o">=</span> <span class="p">(</span><span class="mi">3</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">fm</span><span class="o">.</span><span class="n">sep_dist_clay</span><span class="p">(</span><span class="n">conc_clay_goal</span><span class="p">,</span> <span class="n">fm</span><span class="o">.</span><span class="n">Clay</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span>
                           <span class="o">/</span> <span class="p">(</span><span class="n">k</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="p">(</span><span class="n">fm</span><span class="o">.</span><span class="n">Clay</span><span class="o">.</span><span class="n">Diameter</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">m</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span>
                              <span class="o">*</span> <span class="n">Gtime_floc_aguaclara</span>
                             <span class="p">)</span>
                          <span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">dimensionless</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The Gamma value is&#39;</span><span class="p">,</span> <span class="n">gamma_aguaclara_design</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="residence-time-and-coagulant-coverage">
<h4>Residence time and coagulant coverage<a class="headerlink" href="#residence-time-and-coagulant-coverage" title="Permalink to this headline">¶</a></h4>
<p>If you doubled the residence time of the flocculator, the required coagulant coverage of clay changes according to the model. By doubling the residence time, the required coagulant coverage is reduced by a factor of 2.</p>
</div>
<div class="section" id="modeling-flocculation-in-the-presence-of-humic-acid-with-pc-as-the-performance-metric">
<h4>Modeling flocculation in the presence of humic acid, with pC* as the performance metric<a class="headerlink" href="#modeling-flocculation-in-the-presence-of-humic-acid-with-pc-as-the-performance-metric" title="Permalink to this headline">¶</a></h4>
<p>The flocculation model predicts the settled water turbidity given the composition of the raw water, the flocculator characteristics, and a fitting parameter that must be a function of the sedimentation tank characteristics. This fitting parameter is k, which is the same as the rate constant for collisions described above. The model is far from complete - it doesn’t yet describe the effects of floc blankets. Below we have created a plot showing model predictions for a range of coagulant and humic acid (dissolved organic matter) concentrations. The plot uses our approximation for pC* described in class and shown below:</p>
<div class="math notranslate nohighlight" id="equation-flocculation-floc-model-solution-1">
<span class="eqno">(408)<a class="headerlink" href="#equation-flocculation-floc-model-solution-1" title="Permalink to this equation">¶</a></span>\[pC^*=\frac{3}{2}log{(\frac{2}{3}\pi k \frac{d_p^{2}}{\Lambda_0^{2}}Gt\alpha + 1)}\]</div>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#Define the range of coagulant. This is necessary to create plots of pC* as a function of coagulant dose.</span>
<span class="n">coag_graph</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mf">0.01</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">mg</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">L</span>

<span class="c1"># Graph results of a particular NTU. Note that you can change this value to see how the graph responds.</span>
<span class="c1"># A change here even changes the graph title changes!</span>
<span class="n">plot_NTU</span> <span class="o">=</span> <span class="mi">50</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">NTU</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">plot_NTU</span><span class="p">),</span> <span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">plot_NTU</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39; Graph for Various Humic Acid Concentrations&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">ylabel</span><span class="o">=</span><span class="s1">&#39;pC*&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">xlabel</span><span class="o">=</span><span class="s1">&#39;coagulant dosage (mg/L)&#39;</span><span class="p">)</span>

<span class="c1"># Create an array of humic acid concentrations</span>
<span class="n">plot_humic_acid</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">mg</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">L</span>

<span class="c1"># Create a function that only has inputs for the values that we will change between plots.</span>
<span class="c1">#All other variables are taken from predefined values. This simplifies the function call for use in generating the plots.</span>
<span class="k">def</span> <span class="nf">plot_pC</span><span class="p">(</span><span class="n">conc_humic_acid</span><span class="p">):</span>
    <span class="n">k</span> <span class="o">=</span> <span class="mf">0.24</span>
    <span class="c1"># The energy dissipation rate for aguaclara designs</span>
    <span class="n">ed_rate</span> <span class="o">=</span> <span class="mi">11</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">mW</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">kg</span>
    <span class="c1">#The inner diameter of the flocculator tube is important because a significant fraction of the</span>
    <span class="c1">#coagulant ends up attaching to the flocculator walls</span>
    <span class="n">tube_diam</span> <span class="o">=</span> <span class="mi">3</span><span class="o">/</span><span class="mi">8</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">inch</span>
    <span class="n">time_floc</span> <span class="o">=</span> <span class="mf">8.1</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">minute</span>
    <span class="n">temp</span> <span class="o">=</span> <span class="mi">15</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">degC</span>
    <span class="c1">#pc_viscous is the solution for the equation in the problem statement. It returns pC*</span>
    <span class="n">plot_pC</span> <span class="o">=</span> <span class="n">fm</span><span class="o">.</span><span class="n">pc_viscous</span><span class="p">(</span><span class="n">ed_rate</span><span class="p">,</span> <span class="n">temp</span><span class="p">,</span> <span class="n">time_floc</span><span class="p">,</span> <span class="n">tube_diam</span><span class="p">,</span>
                            <span class="n">plot_NTU</span><span class="p">,</span> <span class="n">coag_graph</span><span class="p">,</span> <span class="n">conc_humic_acid</span><span class="p">,</span>
                            <span class="n">fm</span><span class="o">.</span><span class="n">HumicAcid</span><span class="p">,</span> <span class="n">fm</span><span class="o">.</span><span class="n">PACl</span><span class="p">,</span> <span class="n">fm</span><span class="o">.</span><span class="n">Clay</span><span class="p">,</span>
                            <span class="n">k</span><span class="p">,</span> <span class="n">fm</span><span class="o">.</span><span class="n">RATIO_HEIGHT_DIAM</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">plot_pC</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">coag_graph</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">mg</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">L</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">plot_pC</span><span class="p">(</span><span class="n">plot_humic_acid</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span>
         <span class="n">x</span><span class="p">,</span> <span class="n">plot_pC</span><span class="p">(</span><span class="n">plot_humic_acid</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span>
         <span class="n">x</span><span class="p">,</span> <span class="n">plot_pC</span><span class="p">(</span><span class="n">plot_humic_acid</span><span class="p">[</span><span class="mi">2</span><span class="p">]),</span> <span class="s1">&#39;g&#39;</span><span class="p">,</span>
         <span class="n">x</span><span class="p">,</span> <span class="n">plot_pC</span><span class="p">(</span><span class="n">plot_humic_acid</span><span class="p">[</span><span class="mi">3</span><span class="p">]),</span> <span class="s1">&#39;m&#39;</span><span class="p">,</span>
         <span class="n">x</span><span class="p">,</span> <span class="n">plot_pC</span><span class="p">(</span><span class="n">plot_humic_acid</span><span class="p">[</span><span class="mi">4</span><span class="p">]),</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span>
         <span class="n">x</span><span class="p">,</span> <span class="n">plot_pC</span><span class="p">(</span><span class="n">plot_humic_acid</span><span class="p">[</span><span class="mi">5</span><span class="p">]),</span> <span class="s1">&#39;y&#39;</span><span class="p">)</span>

<span class="c1">#We can use the array of humic acid concentrations to directly create the legend!</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">plot_humic_acid</span><span class="p">,</span> <span class="n">loc</span> <span class="o">=</span> <span class="s1">&#39;best&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>There is a lot to learn from this graph!!!!!! It appears that for any given coagulant dose, humic acid concentration significantly affects pC*. Additionally, notice the diminishing returns of adding more coagulant. This effect appears to be independent of humic acid concentration (see the red curve).</p>
</div>
<div class="section" id="modeling-flocculation-in-the-presence-of-humic-acid-with-settled-water-turbidity-as-the-performance-metric">
<h4>Modeling flocculation in the presence of humic acid, with settled water turbidity as the performance metric<a class="headerlink" href="#modeling-flocculation-in-the-presence-of-humic-acid-with-settled-water-turbidity-as-the-performance-metric" title="Permalink to this headline">¶</a></h4>
<p>We will now display a similar plot which shows settled water turbidity instead of pC*. Our initial turbidity is 10 NTU, and we will four curves for separate humic acid concentrations.</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#answer</span>
<span class="n">plot_NTU</span> <span class="o">=</span> <span class="mi">10</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">NTU</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">plot_NTU</span><span class="p">),</span> <span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">plot_NTU</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39; Graph&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">ylabel</span><span class="o">=</span><span class="s1">&#39;Settled water turbidity (NTU)&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">xlabel</span><span class="o">=</span><span class="s1">&#39;coagulant dosage (mg/L)&#39;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">plot_conc_clay</span><span class="p">(</span><span class="n">conc_clay</span><span class="p">,</span> <span class="n">conc_nat_org_mat</span><span class="p">):</span>
    <span class="n">k</span> <span class="o">=</span> <span class="mf">0.24</span>
    <span class="n">ed_rate</span> <span class="o">=</span> <span class="mi">11</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">mW</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">kg</span>
    <span class="c1">#The inner diameter of the flocculator tube is important because a significant fraction of the</span>
    <span class="c1">#coagulant ends up attaching to the flocculator walls</span>
    <span class="n">tube_diam</span> <span class="o">=</span> <span class="mi">3</span><span class="o">/</span><span class="mi">8</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">inch</span>
    <span class="n">conc_clay</span> <span class="o">=</span> <span class="n">plot_NTU</span>
    <span class="n">time_floc</span> <span class="o">=</span> <span class="mf">8.1</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">minute</span>
    <span class="n">temp</span> <span class="o">=</span> <span class="mi">15</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">degC</span>
    <span class="c1">#s_t calls on fm.pc_viscous() like the previous cell of code, but also uses the fm.invp()</span>
    <span class="c1">#function to turn pC* back into units of settled water turbididty.</span>
    <span class="n">s_t</span> <span class="o">=</span> <span class="n">fm</span><span class="o">.</span><span class="n">invp</span><span class="p">(</span><span class="n">fm</span><span class="o">.</span><span class="n">pc_viscous</span><span class="p">(</span><span class="n">ed_rate</span><span class="p">,</span> <span class="n">temp</span><span class="p">,</span> <span class="n">time_floc</span><span class="p">,</span> <span class="n">tube_diam</span><span class="p">,</span>
               <span class="n">conc_clay</span><span class="p">,</span> <span class="n">coag_graph</span><span class="p">,</span> <span class="n">conc_nat_org_mat</span><span class="p">,</span> <span class="n">fm</span><span class="o">.</span><span class="n">HumicAcid</span><span class="p">,</span> <span class="n">fm</span><span class="o">.</span><span class="n">PACl</span><span class="p">,</span> <span class="n">fm</span><span class="o">.</span><span class="n">Clay</span><span class="p">,</span>
                            <span class="n">k</span><span class="p">,</span> <span class="n">fm</span><span class="o">.</span><span class="n">RATIO_HEIGHT_DIAM</span><span class="p">),</span><span class="n">conc_clay</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">s_t</span>

<span class="c1">#Creates array of humic acid concentrations. This was done in the previous code cell with np.linspace,</span>
<span class="c1">#but because we don&#39;t want evenly spaced concentrations here we input our desired values manually</span>
<span class="n">plot_humic_acid</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">20</span><span class="p">])</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">mg</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">L</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">coag_graph</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">mg</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">L</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">plot_conc_clay</span><span class="p">(</span><span class="n">plot_NTU</span><span class="p">,</span> <span class="n">plot_humic_acid</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span>
         <span class="n">x</span><span class="p">,</span> <span class="n">plot_conc_clay</span><span class="p">(</span><span class="n">plot_NTU</span><span class="p">,</span> <span class="n">plot_humic_acid</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span>
         <span class="n">x</span><span class="p">,</span> <span class="n">plot_conc_clay</span><span class="p">(</span><span class="n">plot_NTU</span><span class="p">,</span> <span class="n">plot_humic_acid</span><span class="p">[</span><span class="mi">2</span><span class="p">]),</span> <span class="s1">&#39;g&#39;</span><span class="p">,</span>
         <span class="n">x</span><span class="p">,</span> <span class="n">plot_conc_clay</span><span class="p">(</span><span class="n">plot_NTU</span><span class="p">,</span> <span class="n">plot_humic_acid</span><span class="p">[</span><span class="mi">3</span><span class="p">]),</span> <span class="s1">&#39;y&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">plot_humic_acid</span><span class="p">,</span> <span class="n">loc</span> <span class="o">=</span> <span class="s1">&#39;best&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>Looking at the interactions between coagulant, clay, and humic acid from this perspective yields even more fun discoveries! For increasing humic acid concentration, more coagulant is required to even begin the process of flocculation.</p>
</div>
</div>
</div>
<div class="section" id="id8">
<h2>8)<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h2>
<p>Why does the AguaClara flocculation model predict that adding 1 mg/L of aluminum has no effect on turbidity when the humic acid concentration is 20 mg/L?</p>
<p>At low concentrations of coagulant every coagulant nanoparticle surface is completely coated with humic acid and thus they aren’t sticky at all.</p>
</div>
<div class="section" id="id9">
<h2>9)<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h2>
<p>It is tempting to assume that all the coagulant dosed gets attached to clay particles. However, if a plant operator were to make this assumption, their plant would produce low-quality water.</p>
<p>Identify and explain two significant reasons as to why this assumption fails.</p>
<ol class="arabic simple">
<li>Coagulant is lost to the walls of the reactors</li>
<li>Coagulant is lost to humic acid
(Students need to write more than this)</li>
</ol>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Floc_Design_Solution.html" class="btn btn-neutral float-right" title="Flocculator Design Solution" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="Floc_Mechanical_Solution.html" class="btn btn-neutral" title="Mechanical Flocculator Solution" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, AguaClara Cornell.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/mathjax_config.js"></script>

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>