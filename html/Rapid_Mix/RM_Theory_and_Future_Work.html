

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Rapid Mix Theory and Future Work &mdash; AguaClara Textbook  documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Flocculation Introduction" href="../Flocculation/Floc_Intro.html" />
    <link rel="prev" title="Rapid Mix Appendix C: Examples" href="RM_Examples.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> AguaClara Textbook
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Acknowledgements</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Acknowledgements.html">Acknowledgements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Authors.html">Authors</a></li>
</ul>
<p class="caption"><span class="caption-text">Contributor's guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Textbook_Creation_Help/rst_intro.html">Introduction to RST and Sphinx for Textbook Contributors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Textbook_Creation_Help/example_aguaclara_rst.html">Functionality in RST and AguaClara Convention</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Textbook_Creation_Help/parameter_convention_list.html">Parameter Convention List</a></li>
</ul>
<p class="caption"><span class="caption-text">Chapter 1: Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Introduction/Introduction.html">Introduction to AguaClara Water Treatment Design</a></li>
</ul>
<p class="caption"><span class="caption-text">Chapter 1.1: Review: Fluid Mechanics and Python</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Review/Review_Fluid_Mechanics.html">Review: Fluid Mechanics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Review/Review_Fluid_Mechanics_Derivations.html">Review: Fluid Mechanics Derivations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Review/Review_Python.html">Review: Python</a></li>
</ul>
<p class="caption"><span class="caption-text">Chapter 3: Flow Control and Measurement</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Flow_Control_and_Measurement/FCM_Intro.html">Flow Control and Measurement Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Flow_Control_and_Measurement/FCM_Design.html">Flow Control and Measurement Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Flow_Control_and_Measurement/FCM_Derivations.html">Flow Control and Measurement Derivations</a></li>
</ul>
<p class="caption"><span class="caption-text">Chapter 4: Rapid Mix</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="RM_Intro.html">Rapid Mix Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="RM_Design.html">Rapid Mix Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="RM_Derivations.html">Rapid Mix Derivations</a></li>
<li class="toctree-l1"><a class="reference internal" href="RM_Examples.html">Rapid Mix Appendix C: Examples</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Rapid Mix Theory and Future Work</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#equations-for-and-in-varying-flow-geometries">Equations for <span class="math notranslate nohighlight">\(\varepsilon\)</span> and <span class="math notranslate nohighlight">\(G\)</span> in Varying Flow Geometries</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#previously-in-rapid-mix-intro-section-delete-this-header-once-you-are-reacquainted-with-the-document"><strong>Previously in Rapid Mix Intro Section</strong> (delete this header once you are reacquainted with the document)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#estimates-of-time-required-for-mixing-processes">Estimates of time required for mixing processes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#turbulent-large-scale-eddies">Turbulent Large Scale Eddies</a></li>
<li class="toctree-l3"><a class="reference internal" href="#inner-viscous-length-scale">Inner Viscous Length Scale</a></li>
<li class="toctree-l3"><a class="reference internal" href="#turbulent-mixing-time-as-a-function-of-scale">Turbulent Mixing Time as a Function of Scale</a></li>
<li class="toctree-l3"><a class="reference internal" href="#shear-diffusion-transport">Shear-Diffusion Transport</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fluid-deformation-by-shear">Fluid Deformation by Shear</a></li>
<li class="toctree-l3"><a class="reference internal" href="#einsteins-diffusion-equation">Einstein’s Diffusion Equation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#length-scales-of-coagulant-nanoparticles-and-clay">Length Scales of Coagulant Nanoparticles and Clay</a></li>
<li class="toctree-l2"><a class="reference internal" href="#diffusion-and-shear-transport-coagulant-nanoparticles-to-clay">Diffusion and Shear Transport Coagulant Nanoparticles to Clay</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#diffusion-band-thickness">Diffusion band thickness</a></li>
<li class="toctree-l3"><a class="reference internal" href="#energy-tradeoff-for-coagulant-transport">Energy Tradeoff for Coagulant Transport</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#coagulant-attachment-mechanism">Coagulant Attachment Mechanism</a></li>
<li class="toctree-l2"><a class="reference internal" href="#conventional-mechanical-rapid-mix">Conventional Mechanical Rapid Mix</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#maximum-velocity-gradients">Maximum Velocity Gradients</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Chapter 5: Flocculation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Flocculation/Floc_Intro.html">Flocculation  Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Flocculation/Floc_Design.html">Flocculation Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Flocculation/Floc_Derivations.html">Flocculation Derivations</a></li>
</ul>
<p class="caption"><span class="caption-text">Chapter 8: Filtration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Filtration/Filtration_Design.html">Filtration Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Filtration/Filtration_Derivations.html">Filtration Derivations</a></li>
</ul>
<p class="caption"><span class="caption-text">Chapter 6: Sedimentation
:maxdepth: 1</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Sedimentation/Sed_Intro.html">Sedimentation Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Sedimentation/Sed_Examples.html">Sedimentation Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Sedimentation/Sed_Theory_and_Future_Work.html">Sedimentation Theory and Future Work</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">AguaClara Textbook</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Rapid Mix Theory and Future Work</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/Rapid_Mix/RM_Theory_and_Future_Work.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="rapid-mix-theory-and-future-work">
<span id="title-rapid-mix-theory-and-future-work"></span><h1>Rapid Mix Theory and Future Work<a class="headerlink" href="#rapid-mix-theory-and-future-work" title="Permalink to this headline">¶</a></h1>
<div class="section" id="equations-for-and-in-varying-flow-geometries">
<span id="heading-equations-varying-flow-geometries"></span><h2>Equations for <span class="math notranslate nohighlight">\(\varepsilon\)</span> and <span class="math notranslate nohighlight">\(G\)</span> in Varying Flow Geometries<a class="headerlink" href="#equations-for-and-in-varying-flow-geometries" title="Permalink to this headline">¶</a></h2>
<p>Estimation of velocity gradients for various flow geometries is the basis for the design of rapid mix, flocculators, and plate settlers. Thus, our goal is to define the velocity gradients consistently across a range of possible flow regimes. There are three approaches to calculating the average velocity gradient within a control volume. 1) Use the Navier Stokes equations and solve for the spatially averaged velocity gradient. 1) Use Computational Fluid Dynamics (CFD) to solve for the spatially averaged velocity gradient. 1) Use the total mechanical energy loss in the control volume to calculate the energy dissipation rate. Estimate the velocity gradient directly from the energy dissipation rate, <span class="math notranslate nohighlight">\(G_{CS} = \sqrt{\frac{\bar\varepsilon}{\nu}}\)</span>, as defined by Camp and Stein in 1943 (Camp, T. R., and Stein, P. C. (1943) ‘‘Velocity Gradients and Hydraulic Work in Fluid Motion,’’ J. Boston Soc. Civil Eng., 30, 203–221.).</p>
<p>The first approach would be ideal but is difficult in practice because Navier Stokes solutions are only available for limited geometries and laminar flow. CFD could be used but is difficult to use as a general engineering design approach given the large number of geometries that are used in drinking water treatment plants. For these reasons we will use the control volume approach to estimate the average velocity gradient. This method incorrectly assumes that the energy dissipation rate is completely uniform in the control volume and hence the velocity gradient is also uniform. This method results in an over estimation of the velocity gradient.
The Camp-Stein estimate of <span class="math notranslate nohighlight">\(G_{CS}\)</span> is based on a control volume where the velocity gradient is uniform. Consider a layer of fluid of depth <span class="math notranslate nohighlight">\(H\)</span> and apply a velocity, <span class="math notranslate nohighlight">\(v\)</span> at the top of the fluid. The velocity gradient, <span class="math notranslate nohighlight">\(G\)</span>, is thus <span class="math notranslate nohighlight">\(\frac{v}{H}\)</span> everywhere in the fluid. The force required to move the top of the fluid at velocity v can be obtained from the required shear, <span class="math notranslate nohighlight">\(\tau\)</span>. From Newtons Law of Friction we have</p>
<div class="math notranslate nohighlight" id="equation-rapid-mix-rm-theory-and-future-work-0">
<span class="eqno">(265)<a class="headerlink" href="#equation-rapid-mix-rm-theory-and-future-work-0" title="Permalink to this equation">¶</a></span>\[\tau = \mu \frac{v}{H} = \mu G = \nu\rho G\]</div>
<p>Where <span class="math notranslate nohighlight">\(\tau\)</span> is the force required per unit plan view area. The power per unit area required to move the fluid at velocity <span class="math notranslate nohighlight">\(v\)</span> is <span class="math notranslate nohighlight">\(\tau v\)</span>. The mass per unit area is <span class="math notranslate nohighlight">\(\rho H\)</span>. Thus the energy dissipation rate or the power per mass is</p>
<div class="math notranslate nohighlight" id="equation-rapid-mix-rm-theory-and-future-work-1">
<span class="eqno">(266)<a class="headerlink" href="#equation-rapid-mix-rm-theory-and-future-work-1" title="Permalink to this equation">¶</a></span>\[\varepsilon = \frac{P}{m} = \frac{\tau v}{\rho H} = \frac{\nu \rho G v}{\rho H} = \nu G^2\]</div>
<p>This equation has no approximations, but has one very important assumption. We derived this equation for a control volume where the velocity gradient was <strong>uniform</strong>. The reactors and control volumes that we will be using as we design water treatment plants will <strong>not</strong> have uniform velocity gradients. Indeed, several of the water treatment processes will be turbulent and thus the velocity gradients in the fluid will vary in both space and time. Even in laminar flow in a pipe the velocity gradient is far from uniform with high velocity gradients at the wall and zero velocity gradient at the center of the pipe.</p>
<p>We’d like to know if we can apply the previous equation</p>
<div class="math notranslate nohighlight" id="equation-rapid-mix-rm-theory-and-future-work-2">
<span class="eqno">(267)<a class="headerlink" href="#equation-rapid-mix-rm-theory-and-future-work-2" title="Permalink to this equation">¶</a></span>\[\varepsilon = \nu G^2\]</div>
<p>to the case where the energy dissipation rate and velocity gradients are nonuniform by simply introducing average values of both quantities.</p>
<div class="math notranslate nohighlight" id="equation-rapid-mix-rm-theory-and-future-work-3">
<span class="eqno">(268)<a class="headerlink" href="#equation-rapid-mix-rm-theory-and-future-work-3" title="Permalink to this equation">¶</a></span>\[\bar\varepsilon \overset{?}{=} \nu \bar G^2\]</div>
<p>We will test this option with a simple case. Consider a hypothetical reactor (case 2) that is 4 times as large in plan view area as the uniform velocity gradient case explored above (case 1). In addition, assume that 3/4 of the reactor has a velocity gradient of zero. The average energy dissipation rate for case 1 is</p>
<div class="math notranslate nohighlight" id="equation-rapid-mix-rm-theory-and-future-work-4">
<span class="eqno">(269)<a class="headerlink" href="#equation-rapid-mix-rm-theory-and-future-work-4" title="Permalink to this equation">¶</a></span>\[\bar \varepsilon_1 = \frac{P_1}{m_1} =  \nu \bar G_1^2\]</div>
<p>The average energy dissipation rate for case 2 is</p>
<div class="math notranslate nohighlight" id="equation-rapid-mix-rm-theory-and-future-work-5">
<span class="eqno">(270)<a class="headerlink" href="#equation-rapid-mix-rm-theory-and-future-work-5" title="Permalink to this equation">¶</a></span>\[\bar \varepsilon_2 = \frac{P_1}{4m_1} = \frac{\bar \varepsilon_1}{4}\]</div>
<p>This makes sense because we are putting in the same amount of energy into a control volume that is 4 times bigger.</p>
<p>Now we calculate the velocity gradients. As previously determined,</p>
<div class="math notranslate nohighlight" id="equation-rapid-mix-rm-theory-and-future-work-6">
<span class="eqno">(271)<a class="headerlink" href="#equation-rapid-mix-rm-theory-and-future-work-6" title="Permalink to this equation">¶</a></span>\[\bar G_1 = \sqrt{\frac{\bar\varepsilon_1}{\nu}}\]</div>
<p>The average velocity gradient in the second control volume is simply the volume weighted average</p>
<div class="math notranslate nohighlight" id="equation-rapid-mix-rm-theory-and-future-work-7">
<span class="eqno">(272)<a class="headerlink" href="#equation-rapid-mix-rm-theory-and-future-work-7" title="Permalink to this equation">¶</a></span>\[\bar G_2 = \bar G_1\frac{1}{4}+ 0 \frac{3}{4}\]</div>
<p>where 1/4 of the case 2 control volume has the same velocity gradient as the case 1 control volume and 3/4 of the control volume has a velocity gradient of 0. The Camp Stein method would suggest that <span class="math notranslate nohighlight">\(\bar G_2\)</span> is equal to</p>
<div class="math notranslate nohighlight" id="equation-rapid-mix-rm-theory-and-future-work-8">
<span class="eqno">(273)<a class="headerlink" href="#equation-rapid-mix-rm-theory-and-future-work-8" title="Permalink to this equation">¶</a></span>\[\bar G_2 \overset{?}{=} \sqrt{\frac{\bar\varepsilon_2}{\nu}}= \sqrt{\frac{\bar\varepsilon_1}{4\nu}}\]</div>
<p>Now we check to see if the Camp Stein method of estimating the average velocity gradient, <span class="math notranslate nohighlight">\(\bar G\)</span>, is correct.</p>
<div class="math notranslate nohighlight" id="equation-rapid-mix-rm-theory-and-future-work-9">
<span class="eqno">(274)<a class="headerlink" href="#equation-rapid-mix-rm-theory-and-future-work-9" title="Permalink to this equation">¶</a></span>\[\bar G_2 = \frac{\bar G_1}{4} \neq \sqrt{\frac{\bar\varepsilon_1}{4\nu}} =  \frac{\bar G_1}{2}\]</div>
<p>Given that the energy dissipation rate is proportional to the square of the velocity gradient the mean of the energy dissipation rate is <strong>not</strong> proportional to the mean of the velocity gradient. Thus the Camp Stein method of calculating the average velocity gradient is not correct except in the case of uniform velocity gradient. The Camp Stein equation is dimensionally correct and could be corrected by adding a dimensionless constant <span class="math notranslate nohighlight">\(\Pi_{CS}\)</span> that is a function of the energy dissipation rate distribution within the control volume.</p>
<div class="math notranslate nohighlight" id="equation-rapid-mix-rm-theory-and-future-work-10">
<span class="eqno">(275)<a class="headerlink" href="#equation-rapid-mix-rm-theory-and-future-work-10" title="Permalink to this equation">¶</a></span>\[\bar G =\Pi_{CS}\sqrt{\frac{\bar\varepsilon}{\nu}}\]</div>
<p>where <span class="math notranslate nohighlight">\(\Pi_{CS}\)</span> is 1 for a uniform velocity gradient and is less than one for non uniform velocity gradients. We can think <span class="math notranslate nohighlight">\(\Pi_{CS}\)</span> as a measure of the efficiency of using energy to deform the fluid. We can calculate <span class="math notranslate nohighlight">\(\Pi_{CS}\)</span> for cases where we have either a Navier Stokes or a computation fluid dynamics estimate of <span class="math notranslate nohighlight">\(\bar G\)</span>.</p>
<p>The conventional approach to design of flocculators uses the Camp Stein definition of</p>
<div class="math notranslate nohighlight" id="equation-rapid-mix-rm-theory-and-future-work-11">
<span class="eqno">(276)<a class="headerlink" href="#equation-rapid-mix-rm-theory-and-future-work-11" title="Permalink to this equation">¶</a></span>\[G_{CS} = \sqrt{\frac{\bar\varepsilon}{\nu}}\]</div>
<p>where <span class="math notranslate nohighlight">\(G_{CS}\)</span> is <strong>not</strong> the average velocity gradient, but is larger than the average velocity gradient by a factor of <span class="math notranslate nohighlight">\(\Pi_{CS}\)</span>. Thus we have</p>
<div class="math notranslate nohighlight" id="equation-rapid-mix-rm-theory-and-future-work-12">
<span class="eqno">(277)<a class="headerlink" href="#equation-rapid-mix-rm-theory-and-future-work-12" title="Permalink to this equation">¶</a></span>\[G_{CS} = \Pi_{CS}\bar G\]</div>
<p>Use of the Camp Stein velocity gradient in design of mixing units and flocculators results in an error when applying results from one reactor to another. If the energy dissipation rate distribution within the reactors is different, then <span class="math notranslate nohighlight">\(\Pi_{CS}\)</span> will be different for the two reactors and the actual average velocity gradient, <span class="math notranslate nohighlight">\(\bar G\)</span> will be different for the two reactors.</p>
<p>Given that energy is used more efficiently to produce velocity gradients if the velocity gradients are uniform, our goal is to design mixing and flocculation units that have relatively uniform velocity gradients. If all of our reactors at both research scale and municipal scale have similar values of <span class="math notranslate nohighlight">\(\Pi_{CS}\)</span>, then we can use the Camp Stein definition of <span class="math notranslate nohighlight">\(G_{CS}\)</span> and not introduce any significant errors. It will not be reasonable, however, to expect similar performance based on similar values of <span class="math notranslate nohighlight">\(G_{CS}\)</span> if one reactor has relatively uniform energy dissipation rates and the other reactor has zones with very high energy dissipation rates and zones with very low energy dissipation rates.</p>
<p>We will demonstrate later that mechanically mixed reactors typically have a much wider range of energy dissipation rates than do well designed hydraulically mixed reactors. Thus comparisons between mechanically mixed and hydraulically mixed reactors must account for differences in <span class="math notranslate nohighlight">\(\Pi_{CS}\)</span>.</p>
<p>We will use the Camp Stein definition <span class="math notranslate nohighlight">\(G_{CS} = \sqrt{\frac{\bar\varepsilon}{\nu}}\)</span> as the design parameter of convenience in this textbook.</p>
<div class="section" id="previously-in-rapid-mix-intro-section-delete-this-header-once-you-are-reacquainted-with-the-document">
<h3><strong>Previously in Rapid Mix Intro Section</strong> (delete this header once you are reacquainted with the document)<a class="headerlink" href="#previously-in-rapid-mix-intro-section-delete-this-header-once-you-are-reacquainted-with-the-document" title="Permalink to this headline">¶</a></h3>
<p>Our understanding of rapid mix is currently quite speculative. This is an area that requires substantial research. We have anecdotal evidence that the process of transporting coagulant nanoparticles to suspended particle surfaces may be a slow, rate-limiting process. Dissolved organic matter may influence the rate of coagulant nanoparticle transport by effectively increasing the size of the coagulant nanoparticles and thus reducing the diffusion rate.</p>
<p>Developing a fundamental understanding of the mixing and transport processes that occur between coagulant addition and flocculation is a very high priority for the AguaClara program.</p>
</div>
</div>
<div class="section" id="estimates-of-time-required-for-mixing-processes">
<span id="heading-estimates-of-time-required-for-mixing-processes"></span><h2>Estimates of time required for mixing processes<a class="headerlink" href="#estimates-of-time-required-for-mixing-processes" title="Permalink to this headline">¶</a></h2>
<div class="section" id="turbulent-large-scale-eddies">
<span id="heading-turbulent-large-scale-eddies"></span><h3>Turbulent Large Scale Eddies<a class="headerlink" href="#turbulent-large-scale-eddies" title="Permalink to this headline">¶</a></h3>
<p>The first step in mixing is at the scale of the largest eddies. The largest eddies are limited in size by the smallest dimension normal to the direction of flow. Thus in a pipe the dimension of the largest eddies is set by the pipe diameter. In a open channel the dimension of the largest eddies is usually the water depth although it could be the width of the channel for the case of a narrow tall channel.</p>
<p>We can use the eddy velocity to estimate how long it will take for an eddy to cross the smallest dimension of flow. Eddy velocity is <span class="math notranslate nohighlight">\(v_{eddy} \approx \left( \bar\varepsilon \, L_{eddy} \right)^\frac{1}{3}\)</span>.
The “<span class="math notranslate nohighlight">\(\approx\)</span>” indicates that this relationship is the same order of magnitude. In a pipe we have</p>
<div class="math notranslate nohighlight" id="equation-rapid-mix-rm-theory-and-future-work-13">
<span class="eqno">(278)<a class="headerlink" href="#equation-rapid-mix-rm-theory-and-future-work-13" title="Permalink to this equation">¶</a></span>\[v_{eddy} \approx \left( \bar\varepsilon \, D \right)^\frac{1}{3}\]</div>
<p>For a long straight pipe
<span class="math notranslate nohighlight">\(\bar\varepsilon = \frac{{\rm f}}{2} \frac{\bar v^3}{D}\)</span> and thus we can obtain the ratio between mean velocity and the velocity of the large scale eddies.</p>
<div class="math notranslate nohighlight" id="equation-rapid-mix-rm-theory-and-future-work-14">
<span class="eqno">(279)<a class="headerlink" href="#equation-rapid-mix-rm-theory-and-future-work-14" title="Permalink to this equation">¶</a></span>\[v_{eddy} \approx \left( \frac{{\rm f}}{2} \frac{\bar v^3}{D} \, D \right)^\frac{1}{3}\]</div>
<div class="math notranslate nohighlight" id="equation-rapid-mix-rm-theory-and-future-work-15">
<span class="eqno">(280)<a class="headerlink" href="#equation-rapid-mix-rm-theory-and-future-work-15" title="Permalink to this equation">¶</a></span>\[\frac{v_{eddy}}{\bar v} \approx \left( \frac{{\rm f}}{2}   \right)^\frac{1}{3}\]</div>
<p>Given a friction factor of 0.02, the eddy velocity is approximately 20% of the mean velocity. We can use this ratio to estimate how many pipe diameters downstream from an injection point will the coagulant be mixed across the diameter of the pipe.</p>
<div class="math notranslate nohighlight" id="equation-rapid-mix-rm-theory-and-future-work-16">
<span class="eqno">(281)<a class="headerlink" href="#equation-rapid-mix-rm-theory-and-future-work-16" title="Permalink to this equation">¶</a></span>\[N_{D_{pipe}} \approx \frac{\bar v}{v_{eddy}} \approx \left(\frac{2}{{\rm f}} \right)^\frac{1}{3}\]</div>
<p>Where <span class="math notranslate nohighlight">\(N_{D_{pipe}}\)</span> is the distance in number of pipe diameters downstream of the injection point where complete mixing will have occurred. This estimate is a minimum distance and a factor of safety of 2 or more would reasonably be applied. In addition it is best practice to inject the coagulant in the center of the pipe. Injecting the coagulant at the side of the pipe will require considerably greater distance downstream for mixing across the pipe.</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">((</span><span class="mf">0.02</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">**</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="section" id="inner-viscous-length-scale">
<span id="heading-inner-viscous-length-scale"></span><h3>Inner Viscous Length Scale<a class="headerlink" href="#inner-viscous-length-scale" title="Permalink to this headline">¶</a></h3>
<p>The smallest scale at which inertia containing eddies causes mixing is set by the final damping of inertia by viscosity. Turbulence occurs when fluid inertia is too large to be damped by viscosity. The ratio of inertia to viscosity is given by the Reynolds number, <span class="math notranslate nohighlight">\(\rm Re\)</span>:</p>
<div class="math notranslate nohighlight" id="equation-rapid-mix-rm-theory-and-future-work-17">
<span class="eqno">(282)<a class="headerlink" href="#equation-rapid-mix-rm-theory-and-future-work-17" title="Permalink to this equation">¶</a></span>\[{\rm{Re}} = \frac{\bar vD}{\nu}\]</div>
<p>Flows with high Reynolds numbers are turbulent (inertia dominated) and with low Reynolds are laminar (viscosity dominated). The transition Reynolds number is a function of the flow geometry and the velocity and length scale that are used to characterize the flow. In all turbulent flows there is a length scale at which inertia finally loses to viscosity. The scale where viscosity wins is some multiple of the Kolmogorov length scale, which is defined as:</p>
<div class="math notranslate nohighlight" id="equation-rapid-mix-rm-theory-and-future-work-18">
<span class="eqno">(283)<a class="headerlink" href="#equation-rapid-mix-rm-theory-and-future-work-18" title="Permalink to this equation">¶</a></span>\[\eta_K = \left( \frac{\nu^3}{\varepsilon} \right)^{\frac{1}{4}}\]</div>
<p>where <span class="math notranslate nohighlight">\(\eta_K\)</span> is the Kolmogorov length scale. At the Kolmogorov length scale viscosity completely dampens the inertia of the eddies and effectively “kills” the turbulence.</p>
<p>The length scale at which most of the kinetic energy contained in the small eddies is dissipated by viscosity is the inner viscous length scale, <span class="math notranslate nohighlight">\(\lambda_v\)</span>, which is about <a class="reference external" href="http://dimotakis.caltech.edu/pdf/Dimotakis_JFM2000.pdf">50 times larger than</a> the
Kolmogorov length scale. Thus we have</p>
<div class="math notranslate nohighlight" id="equation-rapid-mix-rm-theory-and-future-work-19">
<span class="eqno">(284)<a class="headerlink" href="#equation-rapid-mix-rm-theory-and-future-work-19" title="Permalink to this equation">¶</a></span>\[\lambda_\nu = \Pi_{K\nu}\left( \frac{\nu^3}{\varepsilon} \right)^{\frac{1}{4}}\]</div>
<p>{#eq:inner_viscous_length}</p>
<p>where <span class="math notranslate nohighlight">\(\Pi_{K\nu} = 50\)</span></p>
<p>At length scales larger than the inner viscous length scale, <span class="math notranslate nohighlight">\(\lambda_v\)</span>, the dominant transport mechanism is by turbulent eddies. At length scales smaller than <span class="math notranslate nohighlight">\(\lambda_v\)</span> the dominant transport mechanism is fluid deformation due to shear. If the flow regime is completely laminar such as in a small diameter tube flocculator, then the dominant transport mechanism is fluid deformation due to shear at length scales all the way up to the diameter of the tubing.</p>
<p>The dividing line between eddy transport and fluid deformation controlled by viscosity can be calculated as a function of the energy dissipation rate using [&#64;eq:inner_viscous_length].</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot; importing &quot;&quot;&quot;</span>
<span class="kn">from</span> <span class="nn">aide_design.play</span> <span class="k">import</span><span class="o">*</span>
<span class="kn">from</span> <span class="nn">aguaclara_research.play</span> <span class="k">import</span><span class="o">*</span>
<span class="kn">import</span> <span class="nn">aguaclara_research.floc_model</span> <span class="k">as</span> <span class="nn">fm</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">matplotlib.ticker</span> <span class="k">import</span> <span class="n">FormatStrFormatter</span>
<span class="n">imagepath</span> <span class="o">=</span> <span class="s1">&#39;AguaClara Water Treatment Plant Design/Rapid Mix/Images/&#39;</span>
<span class="n">EDR_array</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">logspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="n">num</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">mW</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">kg</span>
<span class="n">Temperature</span> <span class="o">=</span> <span class="mi">20</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">degC</span>
<span class="k">def</span> <span class="nf">Inner_viscous</span><span class="p">(</span><span class="n">EDR</span><span class="p">,</span> <span class="n">Temperature</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">fm</span><span class="o">.</span><span class="n">RATIO_KOLMOGOROV</span> <span class="o">*</span> <span class="n">fm</span><span class="o">.</span><span class="n">eta_kolmogorov</span><span class="p">(</span><span class="n">EDR</span><span class="p">,</span> <span class="n">Temperature</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">semilogx</span><span class="p">(</span><span class="n">EDR_array</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">mW</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">kg</span><span class="p">),</span><span class="n">Inner_viscous</span><span class="p">(</span><span class="n">EDR_array</span><span class="p">,</span> <span class="n">Temperature</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">mm</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="n">FormatStrFormatter</span><span class="p">(</span><span class="s1">&#39;%.f&#39;</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="n">FormatStrFormatter</span><span class="p">(</span><span class="s1">&#39;%.f&#39;</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">xlabel</span><span class="o">=</span><span class="s1">&#39;Energy dissipation rate (W/kg)&#39;</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><span class="s1">&#39;Inner viscous length scale (mm)&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;Eddies cause mixing&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span><span class="n">rotation</span><span class="o">=-</span><span class="mi">30</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;Shear and diffusion cause mixing&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span><span class="n">rotation</span><span class="o">=-</span><span class="mi">30</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">imagepath</span><span class="o">+</span><span class="s1">&#39;Inner_viscous_vs_EDR&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<div class="figure align-center" id="id1">
<span id="figure-inner-viscous-vs-edr"></span><a class="reference internal image-reference" href="../_images/Inner_viscous_vs_EDR.png"><img alt="Inner viscous vs EDR" src="../_images/Inner_viscous_vs_EDR.png" style="width: 400px;" /></a>
<p class="caption"><span class="caption-number">Fig. 55 </span><span class="caption-text">Eddies can cause fluid mixing down to the scale of a few millimeters for energy dissipation rates used in rapid mix units and flocculators.</span></p>
</div>
</div>
<div class="section" id="turbulent-mixing-time-as-a-function-of-scale">
<span id="heading-mixing-time-as-a-function-of-scale"></span><h3>Turbulent Mixing Time as a Function of Scale<a class="headerlink" href="#turbulent-mixing-time-as-a-function-of-scale" title="Permalink to this headline">¶</a></h3>
<p>We are searching for the rate limiting step in the mixing process as we transition from the scale of the flow down to the scale of the coagulant nanoparticles. We can estimate the time required for eddies to mix at their length scales by assuming that the eddies pass all of their energy to smaller scales in the time it takes for an eddy to travel the distance equal to the length scale of the eddy. This time is known as the <strong>`eddy turnover time &lt;http://ceeserver.cee.cornell.edu/eac20/cee637/handouts/TURBFLOW_1.pdf&gt;`__</strong>,
<span class="math notranslate nohighlight">\(t_{eddy}\)</span>. <a class="reference internal" href="RM_Derivations.html#heading-eddy-turnover-time"><span class="std std-ref">The derivation for the equation below is found here</span></a>.</p>
<div class="math notranslate nohighlight" id="equation-rapid-mix-rm-theory-and-future-work-20">
<span class="eqno">(285)<a class="headerlink" href="#equation-rapid-mix-rm-theory-and-future-work-20" title="Permalink to this equation">¶</a></span>\[t_{eddy} \approx \left( \frac{L_{eddy}^2}{ \bar\varepsilon }\right)^\frac{1}{3}\]</div>
<p>We can plot the eddy turnover time as a function of scale from the inner viscous length scale up to the scale of the flow. We will discover whether large scale mixing by eddies is faster or slower than small scale mixing by eddies.</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">EDR_graph</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.01</span><span class="p">,</span><span class="mf">0.1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span> <span class="p">])</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">W</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">kg</span>
<span class="n">Temperature</span>
<span class="sd">&quot;&quot;&quot;Use the highest EDR to estimate the smallest length scale&quot;&quot;&quot;</span>
<span class="n">Inner_viscous_graph</span> <span class="o">=</span> <span class="n">Inner_viscous</span><span class="p">(</span><span class="n">EDR_graph</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">Temperature</span><span class="p">)</span>
<span class="n">Inner_viscous_graph</span>
<span class="n">L_flow</span> <span class="o">=</span> <span class="mf">0.5</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">m</span>
<span class="n">L_scale</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">logspace</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">Inner_viscous_graph</span><span class="o">.</span><span class="n">magnitude</span><span class="p">),</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">L_flow</span><span class="o">.</span><span class="n">magnitude</span><span class="p">),</span><span class="mi">50</span><span class="p">)</span>
<span class="n">L_scale</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">EDR_graph</span><span class="p">)):</span>
  <span class="n">ax</span><span class="o">.</span><span class="n">semilogx</span><span class="p">(</span><span class="n">L_scale</span><span class="p">,((</span><span class="n">L_scale</span><span class="o">**</span><span class="mi">2</span><span class="o">/</span><span class="n">EDR_graph</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="o">**</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">))</span><span class="o">.</span><span class="n">to_base_units</span><span class="p">())</span>

<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">EDR_graph</span><span class="p">)</span>

<span class="c1">#ax.yaxis.set_major_formatter(FormatStrFormatter(&#39;%.f&#39;))</span>
<span class="c1">#ax.xaxis.set_major_formatter(FormatStrFormatter(&#39;%.f&#39;))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">xlabel</span><span class="o">=</span><span class="s1">&#39;Length (m)&#39;</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><span class="s1">&#39;Eddy turnover time (s)&#39;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">imagepath</span><span class="o">+</span><span class="s1">&#39;Eddy_turnover_time&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<div class="figure align-center" id="id2">
<span id="figure-eddy-turnover-times"></span><a class="reference internal image-reference" href="../_images/Eddy_turnover_time.png"><img alt="Eddy turnover time" src="../_images/Eddy_turnover_time.png" style="width: 400px;" /></a>
<p class="caption"><span class="caption-number">Fig. 56 </span><span class="caption-text">Eddy turnover times as a function of length scale for a range of energy dissipation rates.</span></p>
</div>
<p>The eddy turnover times are longest for the largest eddies and this analysis suggests that it only takes a few seconds for turbulent eddies to mix from the scale of the flow down to the inner viscous length scale.</p>
<p>The large scale mixing time is critical for the design of water treatment plants for the case where the flow is split into multiple treatment trains after coagulant addition. In this case it is critical that the coagulant be mixed equally between all of the treatment trains and thus the mixing times shown in the previous graph represent a minimum time between where the coagulant is added and where the flow is divided into the parallel treatment trains.</p>
<p>It is likely this process of mixing from the scale of the flow down to the inner viscous length scale is commonly referred to as “rapid mix.” Here we showed that this mixing is indeed rapid and is really only a concern in the case where the coagulant injection point is very close to the location where the flow is split into multiple treatment trains.</p>
</div>
<div class="section" id="shear-diffusion-transport">
<span id="heading-shear-diffusion-transport"></span><h3>Shear-Diffusion Transport<a class="headerlink" href="#shear-diffusion-transport" title="Permalink to this headline">¶</a></h3>
<p>After the first few seconds in which mixing occurs from the length scale of the flow down to the inner viscous length scale the next step in the transport process is blending of the coagulant uniformly with the raw water. At the end of the turbulent transport the coagulant stock has been stretched out into thin bands throughout the raw water, but the two fluids are not actually blended together by turbulence. The blending is accomplished by fluid deformation and then by molecular diffusion.</p>
</div>
<div class="section" id="fluid-deformation-by-shear">
<span id="heading-fluid-deformation-by-shear"></span><h3>Fluid Deformation by Shear<a class="headerlink" href="#fluid-deformation-by-shear" title="Permalink to this headline">¶</a></h3>
<p>The time scale for fluid deformation is <span class="math notranslate nohighlight">\(1/G\)</span> where <span class="math notranslate nohighlight">\(G\)</span> is the velocity gradient. This simple relationship is because the velocity of fluid deformation is proportional to the length scale and thus the time to travel any given distance in a linear velocity gradient is always the same. Velocity gradients in conventional mechanized rapid mix units are order 1000 Hz and thus the time for fluid deformation to blur concentration gradients is approximately 1 ms. This confirms the idea that blending the coagulant with the raw water is actually a very fast process with the slowest phase being the transport by turbulent eddies at the scale of reactor.</p>
</div>
<div class="section" id="einsteins-diffusion-equation">
<span id="heading-einstein-diffusion-equation"></span><h3>Einstein’s Diffusion Equation<a class="headerlink" href="#einsteins-diffusion-equation" title="Permalink to this headline">¶</a></h3>
<p>We can estimate the length scale at which fluid shear and diffusion provide transport at the same rate. Einstein’s diffusion equation is</p>
<div class="math notranslate nohighlight" id="equation-rapid-mix-rm-theory-and-future-work-21">
<span class="eqno">(286)<a class="headerlink" href="#equation-rapid-mix-rm-theory-and-future-work-21" title="Permalink to this equation">¶</a></span>\[D_{Diffusion} = \frac{k_B T}{3 \pi \mu d_P}\]</div>
<p>where <span class="math notranslate nohighlight">\(k_B\)</span> is the Boltzmann constant and <span class="math notranslate nohighlight">\(d_P\)</span> is the diameter of the particle that is diffusion in a fluid with viscosity <span class="math notranslate nohighlight">\(\nu\)</span> and density <span class="math notranslate nohighlight">\(\rho\)</span>. The diffusion coefficient <span class="math notranslate nohighlight">\(D_{Diffusion}\)</span> has dimensions of <span class="math notranslate nohighlight">\(\frac{[L^2]}{[T]}\)</span> and can be understood as the velocity of the particle multiplied by the length of the mean free path.</p>
<p>From dimensional analysis the time for diffusion to blur a concentration gradient over a length scale, <span class="math notranslate nohighlight">\(L_{Diffusion}\)</span> is</p>
<div class="math notranslate nohighlight" id="equation-rapid-mix-rm-theory-and-future-work-22">
<span class="eqno">(287)<a class="headerlink" href="#equation-rapid-mix-rm-theory-and-future-work-22" title="Permalink to this equation">¶</a></span>\[t_{Diffusion} \approx \frac{L_{Diffusion}^2}{D_{Diffusion}}\]</div>
<p>The shear time scale is <span class="math notranslate nohighlight">\(1/G\)</span> and thus we can solve for the length scale at which diffusion and shear have equivalent transport rates.</p>
<div class="math notranslate nohighlight" id="equation-rapid-mix-rm-theory-and-future-work-23">
<span class="eqno">(288)<a class="headerlink" href="#equation-rapid-mix-rm-theory-and-future-work-23" title="Permalink to this equation">¶</a></span>\[1/G \approx t_{Diffusion} \approx \frac{L_{Diffusion}^2}{D_{Diffusion}}\]</div>
<p>Substitute Einstein’s diffusion equation and solve for the length scale that transitions between shear and diffusion transport.</p>
<div class="math notranslate nohighlight" id="equation-rapid-mix-rm-theory-and-future-work-24">
<span class="eqno">(289)<a class="headerlink" href="#equation-rapid-mix-rm-theory-and-future-work-24" title="Permalink to this equation">¶</a></span>\[L_{Diffusion}^{Shear} \approx \sqrt{\frac{k_B T}{3 G \pi \mu  d_P}}\]</div>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">L_Shear_Diffusion</span><span class="p">(</span><span class="n">G</span><span class="p">,</span><span class="n">Temperature</span><span class="p">,</span><span class="n">d_particle</span><span class="p">):</span>
  <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">((</span><span class="n">u</span><span class="o">.</span><span class="n">boltzmann_constant</span><span class="o">*</span><span class="n">Temperature</span><span class="o">/</span>
  <span class="p">(</span><span class="mi">3</span> <span class="o">*</span> <span class="n">G</span> <span class="o">*</span>  <span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span><span class="n">pc</span><span class="o">.</span><span class="n">viscosity_dynamic</span><span class="p">(</span><span class="n">Temperature</span><span class="p">)</span><span class="o">*</span> <span class="n">d_particle</span><span class="p">))</span><span class="o">.</span><span class="n">to_base_units</span><span class="p">())</span>

<span class="n">G</span> <span class="o">=</span> <span class="mi">100</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">Hz</span>
<span class="n">d_particle</span> <span class="o">=</span> <span class="n">fm</span><span class="o">.</span><span class="n">PACl</span><span class="o">.</span><span class="n">Diameter</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">m</span>
<span class="n">x</span> <span class="o">=</span> <span class="p">(</span><span class="n">L_Shear_Diffusion</span><span class="p">(</span><span class="n">G</span><span class="p">,</span><span class="n">Temperature</span><span class="p">,</span><span class="n">d_particle</span><span class="p">))</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">nm</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
<p>Molecular diffusion finishes the blending process by transporting the coagulant nanoparticles the last few hundred nanometers. The entire mixing process from the coagulant injection point to uniform blending with the raw water takes only a few seconds.</p>
<dl class="docutils">
<dt>We have demonstrated that all of the steps for mixing of the coagulant nanoparticles with the raw water are very fast. Compared with the time required for flocculation, 10s to 1000s of seconds, the time required for this mixing is insignificant. The remaining steps are:</dt>
<dd>1. Molecular diffusion causes some dissolved species and Al nanoparticles to aggregate.
1. Fluid shear and molecular diffusion cause Al nanoparticles with attached formerly dissolved species to collide with inorganic particles (such as clay) and organic particles (such as viruses, bacteria, and protozoans).</dd>
</dl>
</div>
</div>
<div class="section" id="length-scales-of-coagulant-nanoparticles-and-clay">
<span id="heading-length-scales-of-coagulant-nanoparticles-and-clay"></span><h2>Length Scales of Coagulant Nanoparticles and Clay<a class="headerlink" href="#length-scales-of-coagulant-nanoparticles-and-clay" title="Permalink to this headline">¶</a></h2>
<p>The coagulant nanoparticles eventually will attach to clay particles. The clay particles have a diameter of approximately <span class="math notranslate nohighlight">\(5 \, {\rm \mu m}\)</span> and thus it is clear from the length scale in the figure above that turbulent eddies aren’t able to transport all the way to attachment to clay.</p>
</div>
<div class="section" id="diffusion-and-shear-transport-coagulant-nanoparticles-to-clay">
<span id="heading-diffusion-and-shear-transport-coagulant-nanoparticles-to-clay"></span><h2>Diffusion and Shear Transport Coagulant Nanoparticles to Clay<a class="headerlink" href="#diffusion-and-shear-transport-coagulant-nanoparticles-to-clay" title="Permalink to this headline">¶</a></h2>
<p>The time required for shear and diffusion to transport coagulant nanoparticles to clay has previously been assumed to be a rapid process.</p>
<blockquote>
<div><ul class="simple">
<li>Diffusion blends the coagulant with the raw water sufficiently so that the coagulant precipitates and forms nanoparticles.</li>
<li>Dissolved organic molecules diffuse to the coagulant nanoparticles and adhere to the nanoparticle surface.</li>
<li>The coagulant nanoparticles are transported to suspended particle surfaces by a combination of diffusion and fluid shear.</li>
</ul>
</div></blockquote>
<p>The following is a very preliminary estimate of the time required for attachment of the nanoparticles to the clay particles. This analysis includes multiple simplifying assumptions and there is a reasonable possibility that some of those assumptions are wrong. However, the core assumptions that coagulant nanoparticles are transported to clay particles by a combination of fluid deformation (shear) and molecular diffusion is reasonable.</p>
<p>The volume of the suspension that is cleared of nanoparticles is proportional to a collision area defined by a ring around the clay particle with width of the diameter of the nanoparticle diffusion band. This diffusion band is the length scale over which diffusion is able to transport coagulant particles to the clay surface during the time that the nanoparticles are sliding past the clay particle.</p>
<div class="math notranslate nohighlight" id="equation-rapid-mix-rm-theory-and-future-work-25">
<span class="eqno">(290)<a class="headerlink" href="#equation-rapid-mix-rm-theory-and-future-work-25" title="Permalink to this equation">¶</a></span>\[\propto \pi \, d_{Clay} \, L_{Diff_{NC}}\]</div>
<p>The volume cleared is proportional to time</p>
<div class="math notranslate nohighlight" id="equation-rapid-mix-rm-theory-and-future-work-26">
<span class="eqno">(291)<a class="headerlink" href="#equation-rapid-mix-rm-theory-and-future-work-26" title="Permalink to this equation">¶</a></span>\[\propto t\]</div>
<p>The volume cleared is proportional to the relative velocity between clay and nanoparticles. This scaling</p>
<div class="math notranslate nohighlight" id="equation-rapid-mix-rm-theory-and-future-work-27">
<span class="eqno">(292)<a class="headerlink" href="#equation-rapid-mix-rm-theory-and-future-work-27" title="Permalink to this equation">¶</a></span>\[\propto v_r\]</div>
<div class="math notranslate nohighlight" id="equation-rapid-mix-rm-theory-and-future-work-28">
<span class="eqno">(293)<a class="headerlink" href="#equation-rapid-mix-rm-theory-and-future-work-28" title="Permalink to this equation">¶</a></span>\[\bar v_{\rm{Cleared}} = \pi  d_{Clay} \, L_{Diff_{NC}}  v_r  t\]</div>
<p>Use dimensional analysis to get a relative velocity for the long range transport controlled by shear.</p>
<div class="math notranslate nohighlight" id="equation-rapid-mix-rm-theory-and-future-work-29">
<span class="eqno">(294)<a class="headerlink" href="#equation-rapid-mix-rm-theory-and-future-work-29" title="Permalink to this equation">¶</a></span>\[v_r = f \left( \varepsilon ,\nu ,\Lambda_{Clay} \right)\]</div>
<div class="math notranslate nohighlight" id="equation-rapid-mix-rm-theory-and-future-work-30">
<span class="eqno">(295)<a class="headerlink" href="#equation-rapid-mix-rm-theory-and-future-work-30" title="Permalink to this equation">¶</a></span>\[v_r = \Lambda_{Clay} f \left( \varepsilon ,\nu \right)\]</div>
<div class="math notranslate nohighlight" id="equation-rapid-mix-rm-theory-and-future-work-31">
<span class="eqno">(296)<a class="headerlink" href="#equation-rapid-mix-rm-theory-and-future-work-31" title="Permalink to this equation">¶</a></span>\[v_r \approx \Lambda_{Clay} G\]</div>
<div class="math notranslate nohighlight" id="equation-rapid-mix-rm-theory-and-future-work-32">
<span class="eqno">(297)<a class="headerlink" href="#equation-rapid-mix-rm-theory-and-future-work-32" title="Permalink to this equation">¶</a></span>\[\Lambda_{Clay} = [L]
\, \, \, \, \, \, \,
\varepsilon = \frac{[L]^2}{[T]^3}
\, \, \, \, \, \, \,
\nu = \frac{[L]^2}{[T]}\]</div>
<div class="section" id="diffusion-band-thickness">
<h3>Diffusion band thickness<a class="headerlink" href="#diffusion-band-thickness" title="Permalink to this headline">¶</a></h3>
<p>The time required for shear to transport all of the fluid past the clay so that diffusion can transport the coagulant nanoparticles to the clay surface is significant.</p>
<div class="math notranslate nohighlight" id="equation-rapid-mix-rm-theory-and-future-work-33">
<span class="eqno">(298)<a class="headerlink" href="#equation-rapid-mix-rm-theory-and-future-work-33" title="Permalink to this equation">¶</a></span>\[D_{Diffusion} = \frac{k_B T}{3 \pi \, \mu \, d_P}\]</div>
<div class="math notranslate nohighlight" id="equation-rapid-mix-rm-theory-and-future-work-34">
<span class="eqno">(299)<a class="headerlink" href="#equation-rapid-mix-rm-theory-and-future-work-34" title="Permalink to this equation">¶</a></span>\[L_{Diff} \approx \sqrt{D_{Diffusion} t_{Diffusion}}\]</div>
<p>The time for nanoparticles to diffuse through the boundary layer around the clay particle is equal to the distance they travel around the clay particle divided by their velocity. The distance they travel scales with <span class="math notranslate nohighlight">\(d_{Clay}\)</span> and their average velocity scales with the thickness of the diffusion layer/2 * the velocity gradient.</p>
<div class="math notranslate nohighlight" id="equation-rapid-mix-rm-theory-and-future-work-35">
<span class="eqno">(300)<a class="headerlink" href="#equation-rapid-mix-rm-theory-and-future-work-35" title="Permalink to this equation">¶</a></span>\[t_{Diffusion} = \frac{ 2d_{Clay}} {L_{Diff} G}\]</div>
<div class="math notranslate nohighlight" id="equation-rapid-mix-rm-theory-and-future-work-36">
<span class="eqno">(301)<a class="headerlink" href="#equation-rapid-mix-rm-theory-and-future-work-36" title="Permalink to this equation">¶</a></span>\[L_{Diff} \approx \left( \frac{2k_B T d_{Clay}}{3 \pi \,\mu  \, d_{NC} G}\right)^\frac{1}{3}\]</div>
<p>Let’s estimate the thickness of the diffusion band</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">T_graph</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">degC</span>
<span class="n">G</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span><span class="mi">5000</span><span class="p">,</span><span class="mi">50</span><span class="p">)</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">Hz</span>

<span class="k">def</span> <span class="nf">L_Diff</span><span class="p">(</span><span class="n">Temperature</span><span class="p">,</span><span class="n">G</span><span class="p">):</span>
  <span class="k">return</span> <span class="p">(((</span><span class="mi">2</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">boltzmann_constant</span><span class="o">*</span><span class="n">Temperature</span> <span class="o">*</span> <span class="n">fm</span><span class="o">.</span><span class="n">Clay</span><span class="o">.</span><span class="n">Diameter</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">m</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="mi">3</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span><span class="n">pc</span><span class="o">.</span><span class="n">viscosity_dynamic</span><span class="p">(</span><span class="n">Temperature</span><span class="p">)</span><span class="o">*</span> <span class="p">(</span><span class="n">fm</span><span class="o">.</span><span class="n">PACl</span><span class="o">.</span><span class="n">Diameter</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">m</span><span class="p">)</span><span class="o">*</span><span class="n">G</span><span class="p">))</span><span class="o">**</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">))</span><span class="o">.</span><span class="n">to_base_units</span><span class="p">()</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">T_graph</span><span class="p">)):</span>
  <span class="n">ax</span><span class="o">.</span><span class="n">semilogx</span><span class="p">(</span><span class="n">G</span><span class="p">,</span><span class="n">L_Diff</span><span class="p">(</span><span class="n">T_graph</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">G</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">nm</span><span class="p">))</span>

<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">T_graph</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="n">FormatStrFormatter</span><span class="p">(</span><span class="s1">&#39;%.f&#39;</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="n">FormatStrFormatter</span><span class="p">(</span><span class="s1">&#39;%.f&#39;</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">xlabel</span><span class="o">=</span><span class="s1">&#39;Velocity gradient (Hz)&#39;</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><span class="s1">&#39;Diffusion band thickness ($nm$)&#39;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">imagepath</span><span class="o">+</span><span class="s1">&#39;Diffusion_band_thickness&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<div class="figure align-center" id="id3">
<span id="figure-diffusion-band-thickness"></span><a class="reference internal image-reference" href="../_images/Diffusion_band_thickness.png"><img alt="Diffusion band thickness" src="../_images/Diffusion_band_thickness.png" style="width: 400px;" /></a>
<p class="caption"><span class="caption-number">Fig. 57 </span><span class="caption-text">Molecular diffusion band thickness as a function of velocity gradient. This length scale marks the transition between transport by fluid deformation and by diffusion.</span></p>
</div>
<p>Using the equation for <span class="math notranslate nohighlight">\(L_{Diff}\)</span> above, we can solve for  the time required to reach a target efficiency of application of coagulant nanoparticles to clay:</p>
<div class="math notranslate nohighlight" id="equation-rapid-mix-rm-theory-and-future-work-37">
<span class="eqno">(302)<a class="headerlink" href="#equation-rapid-mix-rm-theory-and-future-work-37" title="Permalink to this equation">¶</a></span>\[t_{coagulant, \, application} = \frac{2.3p C_{NC} \, \Lambda_{Clay}^2}{\pi G k \, d_{Clay}\,  L_{Diff_{NC}} }\]</div>
<p>The time required for the coagulant to be transported to clay surfaces is strongly dependent on the turbidity as indicated by the average spacing of clay particles, <span class="math notranslate nohighlight">\(\Lambda_{Clay}\)</span>. As turbidity increases the spacing between clay particles decreases and the time required for shear to transport coagulant nanoparticles to the clay decreases. Increasing the shear also results in faster transport of the coagulant nanoparticles to clay surfaces. The times required are strongly influenced by the size of the coagulant nanoparticles because larger nanoparticles diffuse more slowly.</p>
<p>Below we estimate the time required to achieve 80% attachment of nanoparticles in a 10 NTU clay suspension.</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot;I needed to attach units to material properties due to a bug in floc_model. This will need to be fixed when floc_model is updated.&quot;&quot;&quot;</span>
<span class="k">def</span> <span class="nf">Nano_coag_attach_time</span><span class="p">(</span><span class="n">pC_NC</span><span class="p">,</span><span class="n">C_clay</span><span class="p">,</span><span class="n">G</span><span class="p">,</span><span class="n">Temperature</span><span class="p">):</span>
  <span class="sd">&quot;&quot;&quot;We assume that 70% of nanoparticles attach in the average time for one collision.&quot;&quot;&quot;</span>
  <span class="n">k_nano</span> <span class="o">=</span> <span class="mi">1</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
  <span class="n">num</span><span class="o">=</span><span class="mf">2.3</span><span class="o">*</span><span class="n">pC_NC</span><span class="o">*</span><span class="p">(</span><span class="n">fm</span><span class="o">.</span><span class="n">sep_dist_clay</span><span class="p">(</span><span class="n">C_clay</span><span class="p">,</span><span class="n">fm</span><span class="o">.</span><span class="n">Clay</span><span class="p">))</span><span class="o">**</span><span class="mi">2</span>
  <span class="n">den</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="n">G</span><span class="o">*</span> <span class="n">k_nano</span> <span class="o">*</span> <span class="n">fm</span><span class="o">.</span><span class="n">Clay</span><span class="o">.</span><span class="n">Diameter</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">m</span> <span class="o">*</span> <span class="n">L_Diff</span><span class="p">(</span><span class="n">Temperature</span><span class="p">,</span><span class="n">G</span><span class="p">)</span>
  <span class="k">return</span> <span class="p">(</span><span class="n">num</span><span class="o">/</span><span class="n">den</span><span class="p">)</span><span class="o">.</span><span class="n">to_base_units</span><span class="p">()</span>

<span class="n">C_Al</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">mg</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">L</span>
<span class="n">C_clay</span> <span class="o">=</span> <span class="mi">10</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">NTU</span>
<span class="n">pC_NC</span> <span class="o">=</span> <span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="mf">0.8</span><span class="p">)</span>
<span class="sd">&quot;&quot;&quot;apply 80% of the coagulant nanoparticles to the clay&quot;&quot;&quot;</span>

<span class="n">G</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span><span class="mi">5000</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">Hz</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">T_graph</span><span class="p">)):</span>
  <span class="n">ax</span><span class="o">.</span><span class="n">semilogx</span><span class="p">(</span><span class="n">G</span><span class="p">,</span><span class="n">Nano_coag_attach_time</span><span class="p">(</span><span class="n">pC_NC</span><span class="p">,</span><span class="n">C_clay</span><span class="p">,</span><span class="n">G</span><span class="p">,</span><span class="n">T_graph</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>

<span class="n">ax</span><span class="o">.</span><span class="n">semilogx</span><span class="p">(</span><span class="n">Mix_G</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">s</span><span class="p">),</span><span class="n">Mix_HRT</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">s</span><span class="p">),</span><span class="s1">&#39;o&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">([</span><span class="o">*</span><span class="n">T_graph</span><span class="p">,</span> <span class="s2">&quot;Conventional rapid mix&quot;</span><span class="p">])</span>
<span class="sd">&quot;&quot;&quot;* is used to unpack T_graph so that units are preserved when adding another legend item.&quot;&quot;&quot;</span>
<span class="n">ax</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="n">FormatStrFormatter</span><span class="p">(</span><span class="s1">&#39;%.f&#39;</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="n">FormatStrFormatter</span><span class="p">(</span><span class="s1">&#39;%.f&#39;</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">xlabel</span><span class="o">=</span><span class="s1">&#39;Velocity gradient (Hz)&#39;</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><span class="s1">&#39;Nanoparticle attachment time (s)&#39;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">imagepath</span><span class="o">+</span><span class="s1">&#39;Coag_attach_time&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<div class="figure align-center" id="id4">
<span id="figure-coag-attach-time"></span><a class="reference internal image-reference" href="../_images/Coag_attach_time.png"><img alt="Coag attach time" src="../_images/Coag_attach_time.png" style="width: 400px;" /></a>
<p class="caption"><span class="caption-number">Fig. 58 </span><span class="caption-text">An estimate of the time required for 80% of the coagulant nanoparticles to attach to clay particles given a raw water turbidity of 10 NTU.</span></p>
</div>
</div>
<div class="section" id="energy-tradeoff-for-coagulant-transport">
<span id="heading-energy-tradeoff-for-coagulant-transport"></span><h3>Energy Tradeoff for Coagulant Transport<a class="headerlink" href="#energy-tradeoff-for-coagulant-transport" title="Permalink to this headline">¶</a></h3>
<div class="math notranslate nohighlight" id="equation-rapid-mix-rm-theory-and-future-work-38">
<span class="eqno">(303)<a class="headerlink" href="#equation-rapid-mix-rm-theory-and-future-work-38" title="Permalink to this equation">¶</a></span>\[\Delta h =   \frac{G^2 \nu \theta}{g}\]</div>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Nano_attach_time</span> <span class="o">=</span> <span class="n">Nano_coag_attach_time</span><span class="p">(</span><span class="n">pC_NC</span><span class="p">,</span><span class="n">C_clay</span><span class="p">,</span><span class="n">G</span><span class="p">,</span><span class="n">Temperature</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">HL_coag_attach</span><span class="p">(</span><span class="n">pC_NC</span><span class="p">,</span><span class="n">C_clay</span><span class="p">,</span><span class="n">G</span><span class="p">,</span><span class="n">Temperature</span><span class="p">):</span>
  <span class="k">return</span> <span class="p">(</span><span class="n">G</span><span class="o">**</span><span class="mi">2</span><span class="o">*</span><span class="n">pc</span><span class="o">.</span><span class="n">viscosity_kinematic</span><span class="p">(</span><span class="n">Temperature</span><span class="p">)</span><span class="o">*</span><span class="n">Nano_attach_time</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">gravity</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">cm</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">T_graph</span><span class="p">)):</span>
  <span class="n">ax</span><span class="o">.</span><span class="n">loglog</span><span class="p">(</span><span class="n">G</span><span class="p">,</span><span class="n">HL_coag_attach</span><span class="p">(</span><span class="n">pC_NC</span><span class="p">,</span><span class="n">C_clay</span><span class="p">,</span><span class="n">G</span><span class="p">,</span><span class="n">T_graph</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>

<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">T_graph</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="n">FormatStrFormatter</span><span class="p">(</span><span class="s1">&#39;%.f&#39;</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="n">FormatStrFormatter</span><span class="p">(</span><span class="s1">&#39;%.f&#39;</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">xlabel</span><span class="o">=</span><span class="s1">&#39;Velocity gradient (Hz)&#39;</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><span class="s1">&#39;Head loss (cm)&#39;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">imagepath</span><span class="o">+</span><span class="s1">&#39;Coag_attach_head_loss&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<div class="figure align-center" id="id5">
<span id="figure-coag-attach-head-loss"></span><a class="reference internal image-reference" href="../_images/Coag_attach_head_loss.png"><img alt="Coag attach head loss" src="../_images/Coag_attach_head_loss.png" style="width: 400px;" /></a>
<p class="caption"><span class="caption-number">Fig. 59 </span><span class="caption-text">The total energy required to attach coagulant nanoparticles to raw water inorganic particles increases rapidly with the velocity gradient used in the rapid mix process.</span></p>
</div>
<p>There is an economic tradeoff between reactor volume and energy input. The reactor volume results in a higher capital cost and the energy input requires both higher operating costs and higher capital costs. This provides an opportunity to optimize rapid mix design once we have a confirmed model characterizing the process.</p>
<p>The total potential energy used to operate an AguaClara plant is approximately 2 m. This represents the difference in elevation between where the raw water enters the plant and where the filtered water exits the plant. If we assume that the rapid mix energy budget is a fraction of that total and thus for subsequent analysis we will assume somewhat arbitrarily that the energy available to attach the coagulant nanoparticles to the raw water particles is 50 cm.</p>
<p>We solve the coagulant transport model,
<span class="math notranslate nohighlight">\(t_{coagulant, \, application} = \frac{2.3p C_{NC} \, \Lambda_{Clay}^2}{\pi G k \, d_{Clay}\, L_{Diff_{NC}} }\)</span>,
for G given a head loss.</p>
<div class="math notranslate nohighlight" id="equation-rapid-mix-rm-theory-and-future-work-39">
<span class="eqno">(304)<a class="headerlink" href="#equation-rapid-mix-rm-theory-and-future-work-39" title="Permalink to this equation">¶</a></span>\[G_{coagulant, \, application} =  d_{Clay}\left(\frac{\pi k \,g\Delta h }{2.3p C_{NC} \, \Lambda_{Clay}^2 \nu} \right)^\frac{3}{4} \left( \frac{2k_B T }{3 \pi \,\mu  \, d_{NC} }\right)^\frac{1}{4}\]</div>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot;find G for target head loss&quot;&quot;&quot;</span>
<span class="n">HL_nano_transport</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">cm</span>
<span class="k">def</span> <span class="nf">G_max_head_loss</span><span class="p">(</span><span class="n">pC_NC</span><span class="p">,</span><span class="n">C_clay</span><span class="p">,</span><span class="n">HL_nano_transport</span><span class="p">,</span><span class="n">Temperature</span><span class="p">):</span>
  <span class="n">k_nano</span> <span class="o">=</span> <span class="mi">1</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
  <span class="n">num</span> <span class="o">=</span> <span class="n">u</span><span class="o">.</span><span class="n">gravity</span> <span class="o">*</span> <span class="n">HL_nano_transport</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="n">k_nano</span>
  <span class="n">den</span><span class="o">=</span> <span class="mf">2.3</span> <span class="o">*</span> <span class="n">pC_NC</span> <span class="o">*</span> <span class="p">(</span><span class="n">fm</span><span class="o">.</span><span class="n">sep_dist_clay</span><span class="p">(</span><span class="n">C_clay</span><span class="p">,</span><span class="n">fm</span><span class="o">.</span><span class="n">Clay</span><span class="p">))</span><span class="o">**</span><span class="mi">2</span> <span class="o">*</span> <span class="n">pc</span><span class="o">.</span><span class="n">viscosity_kinematic</span><span class="p">(</span><span class="n">Temperature</span><span class="p">)</span>
  <span class="n">num2</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">boltzmann_constant</span> <span class="o">*</span> <span class="n">Temperature</span>
  <span class="n">den2</span> <span class="o">=</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="n">pc</span><span class="o">.</span><span class="n">viscosity_dynamic</span><span class="p">(</span><span class="n">Temperature</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">fm</span><span class="o">.</span><span class="n">PACl</span><span class="o">.</span><span class="n">Diameter</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">m</span><span class="p">)</span>
  <span class="k">return</span> <span class="n">fm</span><span class="o">.</span><span class="n">Clay</span><span class="o">.</span><span class="n">Diameter</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">m</span><span class="o">*</span><span class="p">((((</span><span class="n">num</span><span class="o">/</span><span class="n">den</span><span class="p">)</span><span class="o">**</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">num2</span><span class="o">/</span><span class="n">den2</span><span class="p">))</span><span class="o">.</span><span class="n">to_base_units</span><span class="p">())</span><span class="o">**</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">4</span><span class="p">))</span>
<span class="sd">&quot;&quot;&quot;Note the use of to_base_units BEFORE raising to the fractional power.</span>
<span class="sd">This prevents a rounding error in the unit exponent.&quot;&quot;&quot;</span>

<span class="n">G_max</span> <span class="o">=</span> <span class="n">G_max_head_loss</span><span class="p">(</span><span class="n">pC_NC</span><span class="p">,</span><span class="n">C_clay</span><span class="p">,</span><span class="mi">20</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">cm</span><span class="p">,</span><span class="n">Temperature</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">G_max</span><span class="p">)</span>

<span class="sd">&quot;&quot;&quot;The time required?&quot;&quot;&quot;</span>
<span class="n">Nano_attach_time</span> <span class="o">=</span> <span class="n">Nano_coag_attach_time</span><span class="p">(</span><span class="n">pC_NC</span><span class="p">,</span><span class="n">C_clay</span><span class="p">,</span><span class="n">G_max</span><span class="p">,</span><span class="n">Temperature</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">Nano_attach_time</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">G_max</span><span class="o">*</span><span class="n">Nano_attach_time</span><span class="p">)</span>
</pre></div>
</div>
<p>According to the analysis above, the maximum velocity gradient that can be used to achieve 80% coagulant nanoparticle attachment using only 20 cm of head loss is 142 Hz. This requires a residence time of 100 seconds. These model results must be experimentally verified and it is very likely that the model will need to be modified.</p>
<p>The analysis of the time required for shear and diffusion to transport the coagulant nanoparticles the last few millimeters suggests that it is this last step that requires the most time. Indeed, the time required for coagulant nanoparticle attachment to raw water particles is comparable to the time that will be required for the next step in the processs, flocculation.</p>
</div>
</div>
<div class="section" id="coagulant-attachment-mechanism">
<span id="heading-coagulant-attachment-mechanism"></span><h2>Coagulant Attachment Mechanism<a class="headerlink" href="#coagulant-attachment-mechanism" title="Permalink to this headline">¶</a></h2>
<p>We do not yet understand the origin of the bonds that form between coagulant nanoparticles, between a coagulant nanoparticle and suspended particles, and between coagulant nanoparticles and dissolved organic molecules. Historically the role of the coagulant was assumed to be to reduce the repulsive force between particles so that the particles could get close enough for Van der Waals forces to hold the particles together.</p>
<ul class="simple">
<li>Surface charge neutralization hypothesis<ul>
<li>coagulant nanoparticles attach to each other</li>
<li></li>
</ul>
</li>
<li>Polar bonds<ul>
<li>Electronegativity reveals that the aluminum - oxygen bond is more polar than the hydrogen - oxygen bond</li>
<li>The bond between a coagulant nanoparticle and a clay surface can potentially be stronger than the bond between a water molecule and the clay surface.</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="conventional-mechanical-rapid-mix">
<span id="heading-conventional-mechanical-rapid-mix"></span><h2>Conventional Mechanical Rapid Mix<a class="headerlink" href="#conventional-mechanical-rapid-mix" title="Permalink to this headline">¶</a></h2>
<div class="section" id="maximum-velocity-gradients">
<span id="heading-conventional-maximum-velocity-gradients"></span><h3>Maximum Velocity Gradients<a class="headerlink" href="#maximum-velocity-gradients" title="Permalink to this headline">¶</a></h3>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Mix_HRT</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.5</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">35</span><span class="p">,</span><span class="mi">85</span><span class="p">])</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">s</span>
<span class="n">Mix_G</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">4000</span><span class="p">,</span><span class="mi">1500</span><span class="p">,</span><span class="mi">950</span><span class="p">,</span><span class="mi">850</span><span class="p">,</span><span class="mi">750</span><span class="p">])</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">s</span>
<span class="n">Mix_CP</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">multiply</span><span class="p">(</span><span class="n">Mix_HRT</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">Mix_G</span><span class="p">))</span>
<span class="n">Mix_Gt</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">multiply</span><span class="p">(</span><span class="n">Mix_HRT</span><span class="p">,</span> <span class="n">Mix_G</span><span class="p">)</span>
<span class="n">Mix_EDR</span> <span class="o">=</span> <span class="p">(</span><span class="n">Mix_G</span><span class="o">**</span><span class="mi">2</span><span class="o">*</span><span class="n">pc</span><span class="o">.</span><span class="n">viscosity_kinematic</span><span class="p">(</span><span class="n">Temperature</span><span class="p">))</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">Mix_G</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">s</span><span class="p">),</span><span class="n">Mix_HRT</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">s</span><span class="p">),</span><span class="s1">&#39;o&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="n">FormatStrFormatter</span><span class="p">(</span><span class="s1">&#39;%.f&#39;</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="n">FormatStrFormatter</span><span class="p">(</span><span class="s1">&#39;%.f&#39;</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">xlabel</span><span class="o">=</span><span class="s1">&#39;Velocity gradient (Hz)&#39;</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><span class="s1">&#39;Residence time (s)&#39;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">imagepath</span><span class="o">+</span><span class="s1">&#39;Mechanical_RM_Gt&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<div class="figure align-center" id="id6">
<span id="figure-mechanical-rm-gt"></span><a class="reference internal image-reference" href="../_images/Mechanical_RM_Gt.png"><img alt="Mechanical RM Gt" src="../_images/Mechanical_RM_Gt.png" style="width: 400px;" /></a>
<p class="caption"><span class="caption-number">Fig. 60 </span><span class="caption-text">Mechanical rapid mix units use a wide range of velocity gradients and residence times.</span></p>
</div>
<p>Conventional rapid mix units use mechanical or potential energy to generate intense turbulence to begin the mixing process. Conventional design is based on the use of <span class="math notranslate nohighlight">\(\bar G\)</span> (an average velocity gradient) as a design parameter. We don’t yet know what the design objective is for rapid mix and thus it isn’t clear which parameters matter. We hypothesize that both velocity gradients that cause deformation of the fluid and time for molecular diffusion are required to ultimately transport coagulant nanoparticles to the surfaces of clay particles.</p>
<p>The velocity gradient can be obtained from the rate at which mechanical energy is being dissipated and converted to heat by viscosity.</p>
<div class="math notranslate nohighlight" id="equation-rapid-mix-rm-theory-and-future-work-40">
<span class="eqno">(305)<a class="headerlink" href="#equation-rapid-mix-rm-theory-and-future-work-40" title="Permalink to this equation">¶</a></span>\[\varepsilon = G^2 \nu\]</div>
<p>where <span class="math notranslate nohighlight">\(\varepsilon\)</span> is the energy dissipation rate, <span class="math notranslate nohighlight">\(G\)</span> is the velocity gradient, and <span class="math notranslate nohighlight">\(\nu\)</span> is the kinematic viscosity of water. We can estimate the power input required to create a target energy dissipation rate for a conventional design by noting that power is simple the energy dissipation rate times the mass of water in the rapid mix unit.</p>
<div class="math notranslate nohighlight" id="equation-rapid-mix-rm-theory-and-future-work-41">
<span class="eqno">(306)<a class="headerlink" href="#equation-rapid-mix-rm-theory-and-future-work-41" title="Permalink to this equation">¶</a></span>\[P = \bar\varepsilon \rlap{-}V \rho\]</div>
<div class="math notranslate nohighlight" id="equation-rapid-mix-rm-theory-and-future-work-42">
<span class="eqno">(307)<a class="headerlink" href="#equation-rapid-mix-rm-theory-and-future-work-42" title="Permalink to this equation">¶</a></span>\[P = \bar G^2 \nu \rlap{-}V \rho\]</div>
<p>We can relate reactor volume to a hydraulic residence time, <span class="math notranslate nohighlight">\(\theta\)</span>, and volumetric flow rate, Q.</p>
<div class="math notranslate nohighlight" id="equation-rapid-mix-rm-theory-and-future-work-43">
<span class="eqno">(308)<a class="headerlink" href="#equation-rapid-mix-rm-theory-and-future-work-43" title="Permalink to this equation">¶</a></span>\[P = \rho \bar G^2 \nu Q \theta\]</div>
<p>This equation is perfectly useful for estimating electrical motor sizing requirements for mechanical rapid mix units. For gravity powered hydraulic rapid mix units it would be more intuitive to use the change in water surface elevation, <span class="math notranslate nohighlight">\(\Delta h\)</span> instead of power input.</p>
<div class="math notranslate nohighlight" id="equation-rapid-mix-rm-theory-and-future-work-44">
<span class="eqno">(309)<a class="headerlink" href="#equation-rapid-mix-rm-theory-and-future-work-44" title="Permalink to this equation">¶</a></span>\[P = \rho g Q \Delta h\]</div>
<p>Combining the two equations we obtain.</p>
<div class="math notranslate nohighlight" id="equation-rapid-mix-rm-theory-and-future-work-45">
<span class="eqno">(310)<a class="headerlink" href="#equation-rapid-mix-rm-theory-and-future-work-45" title="Permalink to this equation">¶</a></span>\[\Delta h =   \frac{G^2 \nu \theta}{g}\]</div>
<span id="table-conventional-rapid-mix-design-values"></span><table border="1" class="docutils" id="id7">
<caption><span class="caption-number">Table 15 </span><span class="caption-text">Typical values for conventional rapid mix residence time and average velocity gradients</span><a class="headerlink" href="#id7" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Residence Time (s)</th>
<th class="head">Velocity gradient G (1/s)</th>
<th class="head">Energy dissipation rate (W/kg)</th>
<th class="head">Equivalent height (m)</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>0.5</td>
<td>4000</td>
<td>16</td>
<td>0.8</td>
</tr>
<tr class="row-odd"><td>10 - 20</td>
<td>1500</td>
<td>2.25</td>
<td>2.3 - 4.6</td>
</tr>
<tr class="row-even"><td>20 - 30</td>
<td>950</td>
<td>0.9</td>
<td>1.8 - 2.8</td>
</tr>
<tr class="row-odd"><td>30 - 40</td>
<td>850</td>
<td>0.72</td>
<td>2.2 - 2.9</td>
</tr>
<tr class="row-even"><td>40 - 130</td>
<td>750</td>
<td>0.56</td>
<td>2.3 - 7.5</td>
</tr>
</tbody>
</table>
<p>From Environmental Engineering: A Design Approach by Sincero and
Sincero. 1996. page 267.</p>
<p>Rotating propellers can either be installed in open tanks or enclosed in pipes. From a mixing and fluids perspective it doesn’t make any difference whether the tank is open to the atmosphere or not. The parameters of interest are the rate of fluid deformation and the residence time in the mixing zone.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../Flocculation/Floc_Intro.html" class="btn btn-neutral float-right" title="Flocculation Introduction" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="RM_Examples.html" class="btn btn-neutral" title="Rapid Mix Appendix C: Examples" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, AguaClara Cornell.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/mathjax_config.js"></script>

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>