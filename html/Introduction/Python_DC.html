

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Design Challenge 1, learning Python, Jupyter, and some AguaClara Design Functions &mdash; AguaClara Textbook  documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Review: Fluid Mechanics" href="../Review/Review_Fluid_Mechanics.html" />
    <link rel="prev" title="Python Tutorial" href="Python_Tutorial.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> AguaClara Textbook
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Acknowledgements</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Acknowledgements.html">Acknowledgements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Authors.html">Authors</a></li>
</ul>
<p class="caption"><span class="caption-text">Chapter 1: Introduction</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Introduction.html">Introduction to AguaClara Water Treatment Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="Introduction_DC.html">Introduction Design Challenge</a></li>
<li class="toctree-l1"><a class="reference internal" href="Python_Tutorial.html">Python Tutorial</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Design Challenge 1, learning Python, Jupyter, and some AguaClara Design Functions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#id1">1)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#section-1">2)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#section-2">3)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#section-3">4)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#section-4">5)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#section-5">6)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#section-6">7)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#section-7">8)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#section-8">9)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#section-9">10)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#section-10">11)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#section-11">12)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#a">12a)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#b">12b)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#c">12c)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#section-12">13)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id14">14)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#section-14">15)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#section-15">16)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#section-16">17)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#section-17">18</a></li>
<li class="toctree-l2"><a class="reference internal" href="#section-18">19</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#final-pointer">Final Pointer</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Chapter 2: Review: Fluid Mechanics and Python</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Review/Review_Fluid_Mechanics.html">Review: Fluid Mechanics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Review/Review_Fluid_Mechanics_Derivations.html">Review: Fluid Mechanics Derivations</a></li>
</ul>
<p class="caption"><span class="caption-text">Chapter 3: Flow Control and Measurement</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Flow_Control_and_Measurement/FCM_Intro.html">Flow Control and Measurement Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Flow_Control_and_Measurement/FCM_Design.html">Flow Control and Measurement Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Flow_Control_and_Measurement/FCM_Derivations.html">Flow Control and Measurement Derivations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Flow_Control_and_Measurement/FCM_Solution.html">Flow Control and Measurement Solution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Flow_Control_and_Measurement/FCM_DC.html">Flow Control and Measurement Design Challenge</a></li>
</ul>
<p class="caption"><span class="caption-text">Chapter 4: Rapid Mix</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Rapid_Mix/RM_Intro.html">Rapid Mix Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Rapid_Mix/RM_Design.html">Rapid Mix Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Rapid_Mix/RM_Derivations.html">Rapid Mix Derivations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Rapid_Mix/RM_Examples.html">Rapid Mix Appendix C: Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Rapid_Mix/RM_Theory_and_Future_Work.html">Rapid Mix Theory and Future Work</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Rapid_Mix/RM_Mechanical_Solution.html">Rapid Mix Mechanical Solution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Rapid_Mix/RM_Design_Solution.html">Rapid Mix Design Solution</a></li>
</ul>
<p class="caption"><span class="caption-text">Chapter 5: Flocculation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Flocculation/Floc_Intro.html">Flocculation Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Flocculation/Floc_Model.html">Flocculation Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Flocculation/Floc_Design.html">Flocculation Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Flocculation/Floc_Derivations.html">Flocculation Derivations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Flocculation/Floc_Theory_and_Future_Work.html">Flocculation Theory and Future Work</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Flocculation/Floc_Examples.html">Flocculation Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Flocculation/Floc_Mechanical_Solution.html">Mechanical Flocculator Solution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Flocculation/Floc_Model_Solution.html">Flocculation Model Solution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Flocculation/Floc_Design_Solution.html">Flocculator Design Solution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Flocculation/Floc_DC.html">Flocculation Design Challenge</a></li>
</ul>
<p class="caption"><span class="caption-text">Chapter 6: Sedimentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Sedimentation/Sed_Intro.html">Sedimentation Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Sedimentation/Sed_Design.html">Sedimentation Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Sedimentation/Sed_Examples.html">Sedimentation Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Sedimentation/Sed_Theory_and_Future_Work.html">Sedimentation Theory and Future Work</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Sedimentation/Sed_Design_Solution.html">Sedimentation Design Solution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Sedimentation/Sed_DC.html">Sedimentation Design Challenge</a></li>
</ul>
<p class="caption"><span class="caption-text">Chapter 7: Filtration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Filtration/Filtration_Intro.html">Filtration  Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Filtration/Filtration_Design.html">Filtration Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Filtration/Filtration_Derivations.html">Filtration Derivations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Filtration/Filtration_Theory_and_Future_Work.html">Filtration Theory and Future Work</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Filtration/Filtration_Design_Solution.html">Filtration Design Solution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Filtration/Filtration_DC.html">Filtration Design Challenge</a></li>
</ul>
<p class="caption"><span class="caption-text">Chapter 8: Dissolved Gas</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Dissolved_Gas/DG_Intro.html">Dissolved Gas Introduction</a></li>
</ul>
<p class="caption"><span class="caption-text">Chapter 9: Fluoride</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Fluoride/Fluoride_Intro.html">Fluoride Introduction</a></li>
</ul>
<p class="caption"><span class="caption-text">Chapter 10: Wastewater</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../WasteWater/WW_Theory_and_Future_Work.html">WasteWater Theory and Future Work</a></li>
</ul>
<p class="caption"><span class="caption-text">Chapter 11: Troubleshooting</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Troubleshooting/Troubleshooting.html">Problems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Troubleshooting/Troubleshooting.html#solutions">Solutions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Troubleshooting/Troubleshooting.html#proposed-solutions-to-eliminate-iron-oxidizing-slime-bacteria">Proposed solutions to eliminate iron oxidizing slime bacteria</a></li>
</ul>
<p class="caption"><span class="caption-text">Chapter 12: Synthesis</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Synthesis/Synthesis_DC.html">Synthesis Design Challenges</a></li>
</ul>
<p class="caption"><span class="caption-text">Contributor's guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Textbook_Creation_Help/rst_intro.html">Introduction to RST and Sphinx for Textbook Contributors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Textbook_Creation_Help/example_aguaclara_rst.html">Functionality in RST and AguaClara Convention</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Textbook_Creation_Help/parameter_convention_list.html">Parameter Convention List</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">AguaClara Textbook</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Design Challenge 1, learning Python, Jupyter, and some AguaClara Design Functions</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/Introduction/Python_DC.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="design-challenge-1-learning-python-jupyter-and-some-aguaclara-design-functions">
<h1>Design Challenge 1, learning Python, Jupyter, and some AguaClara Design Functions<a class="headerlink" href="#design-challenge-1-learning-python-jupyter-and-some-aguaclara-design-functions" title="Permalink to this headline">¶</a></h1>
<div class="section" id="id1">
<h2>1)<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p>Calculate the minimum inner diameter of a PVC pipe that can carry a flow
of at least 10 L/s for the town of Ojojona. The population is 4000
people. The water source is a dam with a surface elevation of 1500 m.
The pipeline connects the reservoir to the discharge into a distribution
tank at an elevation of 1440 m. The pipeline length is 2.5 km. The
pipeline is made with PVC pipe with an SDR (standard diameter ratio) of
26.</p>
<p>The pipeline inlet at the dam is a square edge with a minor loss
coefficient (<span class="math notranslate nohighlight">\({K_e}\)</span>) of 0.5. The discharge at the top of the
distribution tank results in a loss of all of the kinetic energy and
thus the exit minor loss coefficient is 1. See the minor loss equation
below.</p>
<p><span class="math notranslate nohighlight">\({h_e} = {K_e}\frac{{{V^2}}}{{2g}}\)</span></p>
<p>The water temperature ranges from 10 to 30 Celsius. The roughness of a
PVC pipe is approximately 0.1 mm. Use the fluids functions to calculate
the minimum inner pipe diameter to carry this flow from the dam to the
distribution tank.</p>
<p>Report the following * critical design temperature * kinematic
viscosity (maximum viscosity will occur at the lowest temperature) *
the minimum inner pipe diameter (in mm). Use complete sentences to
report the results and use 2 significant digits (use the sig function).</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SDR</span> <span class="o">=</span> <span class="mi">26</span>
<span class="n">Q</span> <span class="o">=</span> <span class="mi">10</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">L</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">s</span>
<span class="n">delta_elevation</span> <span class="o">=</span> <span class="mi">1500</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">m</span> <span class="o">-</span> <span class="mi">1440</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">m</span>
<span class="n">L_pipe</span> <span class="o">=</span> <span class="mf">2.5</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">km</span>
<span class="c1"># am using 0 minor losses because pipe diameter function fails if not zero.</span>
<span class="n">K_minor</span> <span class="o">=</span> <span class="mf">1.5</span>
<span class="c1"># The maximum viscosity will occur at the lowest temperature.</span>
<span class="n">T_crit</span> <span class="o">=</span> <span class="n">u</span><span class="o">.</span><span class="n">Quantity</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="n">u</span><span class="o">.</span><span class="n">degC</span><span class="p">)</span>
<span class="n">nu</span> <span class="o">=</span> <span class="n">pc</span><span class="o">.</span><span class="n">viscosity_kinematic</span><span class="p">(</span><span class="n">T_crit</span><span class="p">)</span>
<span class="n">e</span> <span class="o">=</span> <span class="mf">0.1</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">mm</span>
<span class="n">pipeline_ID_min</span> <span class="o">=</span> <span class="n">pc</span><span class="o">.</span><span class="n">diam_pipe</span><span class="p">(</span><span class="n">Q</span><span class="p">,</span><span class="n">delta_elevation</span><span class="p">,</span><span class="n">L_pipe</span><span class="p">,</span><span class="n">nu</span><span class="p">,</span><span class="n">e</span><span class="p">,</span><span class="n">K_minor</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The critical water temperature for this design is &#39;</span><span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">T_crit</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The kinematic viscosity of water is &#39;</span><span class="o">+</span><span class="n">ut</span><span class="o">.</span><span class="n">sig</span><span class="p">(</span><span class="n">nu</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The minimum pipe inner diameter is &#39;</span><span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">sig</span><span class="p">(</span><span class="n">pipeline_ID_min</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">mm</span><span class="p">),</span><span class="mi">2</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>The critical water temperature for this design is 10 degC.
The kinematic viscosity of water is 1.3e-6 m²/s.
The minimum pipe inner diameter is 97 mm.
</pre></div>
</div>
</div>
<div class="section" id="section-1">
<span id="id2"></span><h2>2)<a class="headerlink" href="#section-1" title="Permalink to this headline">¶</a></h2>
<p>Find the nominal diameter of a PVC pipe that is SDR 26. SDR means
standard diameter ratio. The thickness of the pipe wall is 1/SDR of the
outside diameter. The pipedatabase file has a useful function that
returns nominal diameter given SDR and inner diameter.</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pipeline_ND</span> <span class="o">=</span> <span class="n">pipe</span><span class="o">.</span><span class="n">ND_SDR_available</span><span class="p">(</span><span class="n">pipeline_ID_min</span><span class="p">,</span><span class="n">SDR</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The nominal diameter of the pipeline is &#39;</span><span class="o">+</span><span class="n">ut</span><span class="o">.</span><span class="n">sig</span><span class="p">(</span><span class="n">pipeline_ND</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39; (&#39;</span><span class="o">+</span><span class="n">ut</span><span class="o">.</span><span class="n">sig</span><span class="p">(</span><span class="n">pipeline_ND</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">mm</span><span class="p">),</span><span class="mi">2</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;).&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">The</span> <span class="n">nominal</span> <span class="n">diameter</span> <span class="n">of</span> <span class="n">the</span> <span class="n">pipeline</span> <span class="ow">is</span> <span class="mf">4.0</span> <span class="ow">in</span> <span class="p">(</span><span class="mf">1.0e+2</span> <span class="n">mm</span><span class="p">)</span><span class="o">.</span>
</pre></div>
</div>
</div>
<div class="section" id="section-2">
<span id="id3"></span><h2>3)<a class="headerlink" href="#section-2" title="Permalink to this headline">¶</a></h2>
<p>What is the actual inner diameter of this pipe in mm? Compare this with
the <a class="reference external" href="http://www.cresline.com/pdf/cresline-northwest/pvcpressupipeline_Re/CNWPVC-26.pdf">reported inner diameter for SDR-26
pipe</a>
to see if our pipe database is reporting the correct value.</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pipeline_ID</span> <span class="o">=</span> <span class="n">pipe</span><span class="o">.</span><span class="n">ID_SDR</span><span class="p">(</span><span class="n">pipeline_ND</span><span class="p">,</span><span class="n">SDR</span><span class="p">)</span>
<span class="n">cresline_ID</span> <span class="o">=</span> <span class="mf">4.154</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">inch</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The inner diameter of the pipe is &#39;</span><span class="o">+</span><span class="n">ut</span><span class="o">.</span><span class="n">sig</span><span class="p">(</span><span class="n">pipeline_ID</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">mm</span><span class="p">),</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Cresline reports the inner diameter is &#39;</span><span class="o">+</span><span class="n">ut</span><span class="o">.</span><span class="n">sig</span><span class="p">(</span><span class="n">cresline_ID</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">mm</span><span class="p">),</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">The</span> <span class="n">inner</span> <span class="n">diameter</span> <span class="n">of</span> <span class="n">the</span> <span class="n">pipe</span> <span class="ow">is</span> <span class="mi">106</span> <span class="n">mm</span><span class="o">.</span>
<span class="n">Cresline</span> <span class="n">reports</span> <span class="n">the</span> <span class="n">inner</span> <span class="n">diameter</span> <span class="ow">is</span> <span class="mi">106</span> <span class="n">mm</span><span class="o">.</span>
</pre></div>
</div>
</div>
<div class="section" id="section-3">
<span id="id4"></span><h2>4)<a class="headerlink" href="#section-3" title="Permalink to this headline">¶</a></h2>
<p>What is the maximum flow rate that can be carried by this pipe at the
coldest design temperature? Display the flow rate in L/s using the .to
method.</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pipeline_Q_max</span> <span class="o">=</span> <span class="n">pc</span><span class="o">.</span><span class="n">flow_pipe</span><span class="p">(</span><span class="n">pipeline_ID</span><span class="p">,</span><span class="n">delta_elevation</span><span class="p">,</span><span class="n">L_pipe</span><span class="p">,</span><span class="n">nu</span><span class="p">,</span><span class="n">e</span><span class="p">,</span><span class="n">K_minor</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The maximum flow rate at &#39;</span><span class="o">+</span><span class="n">ut</span><span class="o">.</span><span class="n">sig</span><span class="p">(</span><span class="n">T_crit</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39; is &#39;</span><span class="o">+</span><span class="n">ut</span><span class="o">.</span><span class="n">sig</span><span class="p">(</span><span class="n">pipeline_Q_max</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">L</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">s</span><span class="p">),</span><span class="mi">2</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">The</span> <span class="n">maximum</span> <span class="n">flow</span> <span class="n">rate</span> <span class="n">at</span> <span class="mi">10</span> <span class="n">celsius</span> <span class="ow">is</span> <span class="mi">13</span> <span class="n">l</span><span class="o">/</span><span class="n">s</span><span class="o">.</span>
</pre></div>
</div>
</div>
<div class="section" id="section-4">
<span id="id5"></span><h2>5)<a class="headerlink" href="#section-4" title="Permalink to this headline">¶</a></h2>
<p>What is the Reynolds number and friction factor for this maximum flow?
Assign these values to variable names so you can plot them later on the
Moody diagram.</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pipeline_Re</span> <span class="o">=</span> <span class="n">pc</span><span class="o">.</span><span class="n">re_pipe</span><span class="p">(</span><span class="n">pipeline_Q_max</span><span class="p">,</span><span class="n">pipeline_ID</span><span class="p">,</span><span class="n">nu</span><span class="p">)</span>
<span class="n">fPipe</span> <span class="o">=</span> <span class="n">pc</span><span class="o">.</span><span class="n">fric</span><span class="p">(</span><span class="n">pipeline_Q_max</span><span class="p">,</span><span class="n">pipeline_ID</span><span class="p">,</span><span class="n">nu</span><span class="p">,</span><span class="n">e</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The Reynolds number and friction factor for the pipeline flow are &#39;</span><span class="o">+</span><span class="n">ut</span><span class="o">.</span><span class="n">sig</span><span class="p">(</span><span class="n">pipeline_Re</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39; and &#39;</span><span class="o">+</span><span class="n">ut</span><span class="o">.</span><span class="n">sig</span><span class="p">(</span><span class="n">fPipe</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39; respectively.&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">The</span> <span class="n">Reynolds</span> <span class="n">number</span> <span class="ow">and</span> <span class="n">friction</span> <span class="n">factor</span> <span class="k">for</span> <span class="n">the</span> <span class="n">pipeline</span> <span class="n">flow</span> <span class="n">are</span> <span class="mf">1.2e+5</span> <span class="ow">and</span> <span class="mf">0.022</span> <span class="n">respectively</span><span class="o">.</span>
</pre></div>
</div>
</div>
<div class="section" id="section-5">
<span id="id6"></span><h2>6)<a class="headerlink" href="#section-5" title="Permalink to this headline">¶</a></h2>
<p>Check to see if the fluids functions are internally consistent by
calculating the head loss given the flow rate that you calculated and
comparing that head loss with the elevation difference. Display enough
significant digits to see the difference in the two values. Note that
the Moody diagram has an accuracy of about ±5% for smooth pipes and ±10%
for rough pipes <a class="reference external" href="http://user.engineering.uiowa.edu/~me_160/lecture_notes/MoodyLFpaper1944.pdf">Moody,
1944</a>.</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">HLCheck</span> <span class="o">=</span> <span class="n">pc</span><span class="o">.</span><span class="n">headloss</span><span class="p">(</span><span class="n">pipeline_Q_max</span><span class="p">,</span><span class="n">pipeline_ID</span><span class="p">,</span><span class="n">L_pipe</span><span class="p">,</span><span class="n">nu</span><span class="p">,</span><span class="n">e</span><span class="p">,</span><span class="n">K_minor</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The head loss is &#39;</span><span class="o">+</span><span class="n">ut</span><span class="o">.</span><span class="n">sig</span><span class="p">(</span><span class="n">HLCheck</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39; and that is close to the elevation difference of &#39;</span><span class="o">+</span><span class="n">ut</span><span class="o">.</span><span class="n">sig</span><span class="p">(</span><span class="n">delta_elevation</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">The</span> <span class="n">head</span> <span class="n">loss</span> <span class="ow">is</span> <span class="mf">60.5</span> <span class="n">m</span> <span class="ow">and</span> <span class="n">that</span> <span class="ow">is</span> <span class="n">close</span> <span class="n">to</span> <span class="n">the</span> <span class="n">elevation</span> <span class="n">difference</span> <span class="n">of</span> <span class="mf">60.0</span> <span class="n">m</span><span class="o">.</span>
</pre></div>
</div>
</div>
<div class="section" id="section-6">
<span id="id7"></span><h2>7)<a class="headerlink" href="#section-6" title="Permalink to this headline">¶</a></h2>
<p>How much more water (both volumetric and mass rate) will flow through
the pipe at the maximum water temperature of 30 C? Take into account
both the change in viscosity (changes the flow rate) and the change in
density (changes the mass rate). Report the flow rates in L/s.</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Tmax</span> <span class="o">=</span> <span class="n">u</span><span class="o">.</span><span class="n">Quantity</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span><span class="n">u</span><span class="o">.</span><span class="n">degC</span><span class="p">)</span>
<span class="n">nuhot</span> <span class="o">=</span> <span class="n">pc</span><span class="o">.</span><span class="n">viscosity_kinematic</span><span class="p">(</span><span class="n">Tmax</span><span class="p">)</span>
<span class="n">pipeline_Q_maxhot</span> <span class="o">=</span> <span class="n">pc</span><span class="o">.</span><span class="n">flow_pipe</span><span class="p">(</span><span class="n">pipeline_ID</span><span class="p">,</span><span class="n">delta_elevation</span><span class="p">,</span><span class="n">L_pipe</span><span class="p">,</span><span class="n">nuhot</span><span class="p">,</span><span class="n">e</span><span class="p">,</span><span class="n">K_minor</span><span class="p">)</span>
<span class="n">QDelta</span> <span class="o">=</span> <span class="n">pipeline_Q_maxhot</span><span class="o">-</span><span class="n">pipeline_Q_max</span>
<span class="n">MassFlowDelta</span> <span class="o">=</span> <span class="p">(</span><span class="n">pipeline_Q_maxhot</span><span class="o">*</span><span class="n">DensityWater</span><span class="p">(</span><span class="n">Tmax</span><span class="p">)</span><span class="o">-</span><span class="n">pipeline_Q_max</span><span class="o">*</span><span class="n">DensityWater</span><span class="p">(</span><span class="n">T_crit</span><span class="p">))</span><span class="o">.</span><span class="n">to_base_units</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The increase in flow rate at &#39;</span><span class="o">+</span><span class="n">ut</span><span class="o">.</span><span class="n">sig</span><span class="p">(</span><span class="n">Tmax</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39; is &#39;</span><span class="o">+</span><span class="n">ut</span><span class="o">.</span><span class="n">sig</span><span class="p">(</span><span class="n">QDelta</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">L</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">s</span><span class="p">),</span><span class="mi">2</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The increase in mass rate at &#39;</span><span class="o">+</span><span class="n">ut</span><span class="o">.</span><span class="n">sig</span><span class="p">(</span><span class="n">Tmax</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39; is &#39;</span><span class="o">+</span><span class="n">ut</span><span class="o">.</span><span class="n">sig</span><span class="p">(</span><span class="n">MassFlowDelta</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">The</span> <span class="n">increase</span> <span class="ow">in</span> <span class="n">flow</span> <span class="n">rate</span> <span class="n">at</span> <span class="mi">30</span> <span class="n">celsius</span> <span class="ow">is</span> <span class="mf">0.24</span> <span class="n">l</span><span class="o">/</span><span class="n">s</span><span class="o">.</span>
<span class="n">The</span> <span class="n">increase</span> <span class="ow">in</span> <span class="n">mass</span> <span class="n">rate</span> <span class="n">at</span> <span class="mi">30</span> <span class="n">celsius</span> <span class="ow">is</span> <span class="mf">0.19</span> <span class="n">kg</span><span class="o">/</span><span class="n">s</span><span class="o">.</span>
</pre></div>
</div>
</div>
<div class="section" id="section-7">
<span id="id8"></span><h2>8)<a class="headerlink" href="#section-7" title="Permalink to this headline">¶</a></h2>
<p>Why is the flow increase due to this temperature change so small given
that viscosity actually changed significantly (see the calculation
below)?</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The viscosity ratio for the two temperatures was &#39;</span><span class="o">+</span><span class="n">ut</span><span class="o">.</span><span class="n">sig</span><span class="p">(</span><span class="n">pc</span><span class="o">.</span><span class="n">viscosity_kinematic</span><span class="p">(</span><span class="n">Tmax</span><span class="p">)</span><span class="o">/</span><span class="n">pc</span><span class="o">.</span><span class="n">viscosity_kinematic</span><span class="p">(</span><span class="n">T_crit</span><span class="p">),</span><span class="mi">2</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">The</span> <span class="n">viscosity</span> <span class="n">ratio</span> <span class="k">for</span> <span class="n">the</span> <span class="n">two</span> <span class="n">temperatures</span> <span class="n">was</span> <span class="mf">0.62</span><span class="o">.</span>
</pre></div>
</div>
<p>The flow is turbulent and thus viscosity has little influence on the
flow rate.</p>
</div>
<div class="section" id="section-8">
<span id="id9"></span><h2>9)<a class="headerlink" href="#section-8" title="Permalink to this headline">¶</a></h2>
<p>Suppose an AguaClara plant is designed to be built up the hill from the
distribution tank. The transmission line will need to be lengthened by
30 m and the elevation of the inlet to the entrance tank will be 1450 m.
The rerouting will also require the addition of 3 elbows with a minor
loss coefficient of 0.3 each. What is the new maximum flow from the
water source?</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">delta_elevationnew</span> <span class="o">=</span> <span class="mi">1500</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">m</span> <span class="o">-</span> <span class="mi">1450</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">m</span>
<span class="n">L_pipenew</span> <span class="o">=</span> <span class="mf">2.5</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">km</span> <span class="o">+</span> <span class="mi">30</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">m</span>
<span class="n">Knew</span> <span class="o">=</span> <span class="mf">1.5</span><span class="o">+</span><span class="mi">3</span><span class="o">*</span><span class="mf">0.3</span>
<span class="n">pipeline_Q_maxnew</span> <span class="o">=</span> <span class="n">pc</span><span class="o">.</span><span class="n">flow_pipe</span><span class="p">(</span><span class="n">pipeline_ID</span><span class="p">,</span><span class="n">delta_elevationnew</span><span class="p">,</span><span class="n">L_pipenew</span><span class="p">,</span><span class="n">nu</span><span class="p">,</span><span class="n">e</span><span class="p">,</span><span class="n">Knew</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The new maximum flow rate at &#39;</span><span class="o">+</span><span class="n">ut</span><span class="o">.</span><span class="n">sig</span><span class="p">(</span><span class="n">T_crit</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39; is &#39;</span><span class="o">+</span><span class="n">ut</span><span class="o">.</span><span class="n">sig</span><span class="p">(</span><span class="n">pipeline_Q_maxnew</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">L</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">s</span><span class="p">),</span><span class="mi">2</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">The</span> <span class="n">new</span> <span class="n">maximum</span> <span class="n">flow</span> <span class="n">rate</span> <span class="n">at</span> <span class="mi">10</span> <span class="n">celsius</span> <span class="ow">is</span> <span class="mi">12</span> <span class="n">l</span><span class="o">/</span><span class="n">s</span><span class="o">.</span>
</pre></div>
</div>
</div>
<div class="section" id="section-9">
<span id="id10"></span><h2>10)<a class="headerlink" href="#section-9" title="Permalink to this headline">¶</a></h2>
<p>How much less water will flow through the transmission line after the
line is rerouted?</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The reduction in flow is &#39;</span><span class="o">+</span><span class="n">ut</span><span class="o">.</span><span class="n">sig</span><span class="p">((</span><span class="n">pipeline_Q_max</span><span class="o">-</span><span class="n">pipeline_Q_maxnew</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">L</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">s</span><span class="p">),</span><span class="mi">2</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">The</span> <span class="n">reduction</span> <span class="ow">in</span> <span class="n">flow</span> <span class="ow">is</span> <span class="mf">1.3</span> <span class="n">l</span><span class="o">/</span><span class="n">s</span><span class="o">.</span>
</pre></div>
</div>
<div class="alert alert-block alert-danger"><p>We noticed that many of you are having some difficulty with naming
convention and syntax.</p>
<p>Please refer to the following for Github [Standards Page]
(<a class="reference external" href="https://github.com/AguaClara/aide_design/wiki/Standards">https://github.com/AguaClara/aide_design/wiki/Standards</a>) for naming
standards.</p>
<p>Additionally, here is a Github [Variable Naming Guide]
(<a class="reference external" href="https://github.com/AguaClara/aide_design/wiki/Variable-Naming">https://github.com/AguaClara/aide_design/wiki/Variable-Naming</a>) that
will be useful for creating variable names.</p>
</div>
<div class="section" id="section-10">
<span id="id11"></span><h2>11)<a class="headerlink" href="#section-10" title="Permalink to this headline">¶</a></h2>
<p>There exists a function within the physchem file called
<code class="docutils literal notranslate"><span class="pre">pc.fric(FlowRate,</span> <span class="pre">Diam,</span> <span class="pre">Nu,</span> <span class="pre">PipeRough)</span></code> that returns the friction
factor for both laminar and turbulent flow. In this problem, you will be
creating a new function which you shall call <code class="docutils literal notranslate"><span class="pre">fofRe()</span></code> that takes the
Reynolds number and the dimensionless pipe roughness (ε/D) as inputs.</p>
<p>Recall that the format for defining a function is</p>
<p><code class="docutils literal notranslate"><span class="pre">def</span> <span class="pre">fofRe(input1,</span> <span class="pre">input2):</span>&#160;&#160;&#160;&#160; <span class="pre">f</span> <span class="pre">=</span> <span class="pre">buncha</span> <span class="pre">stuff</span>&#160;&#160;&#160;&#160; <span class="pre">return</span> <span class="pre">f</span></code></p>
<p>Since the equation for calculating the friction factor is different for
laminar and turbulent flow (with the transition Reynolds number being
defined within the physchem file), you will need to use an <code class="docutils literal notranslate"><span class="pre">if,</span> <span class="pre">else</span></code>
statement for the two conditions. The two friction factor equations are
given in the <strong>Assorted Fluids Functions</strong> table.</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#returns the friction factor for pipe flow for both laminar and turbulent flows</span>
<span class="k">def</span> <span class="nf">fofRe</span><span class="p">(</span><span class="n">Re</span><span class="p">,</span><span class="n">roughness</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">Re</span> <span class="o">&gt;=</span> <span class="n">pc</span><span class="o">.</span><span class="n">RE_TRANSITION_PIPE</span><span class="p">:</span>
        <span class="n">f</span> <span class="o">=</span> <span class="mf">0.25</span><span class="o">/</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">roughness</span><span class="o">/</span><span class="p">(</span><span class="mf">3.7</span><span class="p">)</span><span class="o">+</span><span class="mf">5.74</span><span class="o">/</span><span class="n">Re</span><span class="o">**</span><span class="mf">0.9</span><span class="p">))</span><span class="o">**</span><span class="mi">2</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">f</span> <span class="o">=</span> <span class="mi">64</span><span class="o">/</span><span class="n">Re</span>
    <span class="k">return</span> <span class="n">f</span>
</pre></div>
</div>
</div>
<div class="section" id="section-11">
<span id="id12"></span><h2>12)<a class="headerlink" href="#section-11" title="Permalink to this headline">¶</a></h2>
<div class="alert alert-block alert-danger"><p>Need to update picture!</p>
<p>Create a beautiful Moody diagram. Include axes labels and show a legend
that clearly describes each plot. The result should look like the
picture of the graph below.<img alt="image0" src="Introduction/Moody.png" /></p>
</div>
<div class="section" id="a">
<h2>12a)<a class="headerlink" href="#a" title="Permalink to this headline">¶</a></h2>
<p>You will be creating a Moody diagram showing Reynolds number vs friction
factor for multiple dimensionless pipe roughnesses. The first step to do
this is to define the number of dimensionless pipe roughnesses you want
to plot. We will plot 8 curves for the following values: 0, 0.0001,
0.0003, 0.001, 0.003, 0.01, 0.03, 0.1. We will plot an additional curve,
which will be a straight line, for laminar flow, since it is not
dependent on the pipe roughness value (see the Moody diagram above).</p>
<ul class="simple">
<li>Create an array for the dimensionless pipe roughness values, using
<code class="docutils literal notranslate"><span class="pre">np.array([])</span></code>.</li>
<li>Specify the amount of data points you want to plot for each curve. We
will be using 50 points.</li>
</ul>
<p>Because the Moody diagram is a log-log plot, we need to ensure that all
50 points on the diagram we are creating are equally spaced in
log-space. Use the <code class="docutils literal notranslate"><span class="pre">np.logspace(input1,</span> <span class="pre">input2,</span> <span class="pre">input3)</span></code> function to
create an array for turbulent Reynolds numbers and an array for laminar
Reynolds numbers. * <code class="docutils literal notranslate"><span class="pre">input1</span></code> is the exponent for the lower bound of
the range. For example, if you want your lower bound to be 1000, your
input should be <code class="docutils literal notranslate"><span class="pre">math.log10(1000)</span></code> which is equal to 3. * <code class="docutils literal notranslate"><span class="pre">input2</span></code>
is the exponent for the upper bound of the range. Format this input as
you have formatted <code class="docutils literal notranslate"><span class="pre">input1</span></code>. * <code class="docutils literal notranslate"><span class="pre">input3</span></code> is the number of data
points you are using for each curve. Note: The range for array that yo</p>
<p><strong>12a) Deliverables</strong> * Array of dimentionless pipe roughnesses. Call
this array <code class="docutils literal notranslate"><span class="pre">eGraph</span></code>. * Variable defining the amount of points on each
pipe roughness curve * Two arrays created using <code class="docutils literal notranslate"><span class="pre">np.logspace</span></code> which
for turbulent and laminar Reynolds numbers, which will be the x-axis
values for the Moody diagram</p>
<p>Note: The bounds for the laminar Reynolds numbers array should span
between 670 and the predefined transition number used in Problem 11. The
bounds for the turbulent Reynolds numbers array should span between
3,500 and 100,000,000. These ranges are chosen to make the curves fit
well within the graph and to intentionally omit data in the transition
range between laminar and turbulent flows.</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">eGraph</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.0001</span><span class="p">,</span><span class="mf">0.0003</span><span class="p">,</span><span class="mf">0.001</span><span class="p">,</span><span class="mf">0.003</span><span class="p">,</span><span class="mf">0.01</span><span class="p">,</span><span class="mf">0.03</span><span class="p">,</span><span class="mf">0.1</span><span class="p">])</span>
<span class="n">Gpoint</span> <span class="o">=</span> <span class="mi">50</span>
<span class="n">ReG</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">logspace</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="mi">3500</span><span class="p">),</span> <span class="mi">8</span><span class="p">,</span> <span class="n">Gpoint</span><span class="p">)</span>
<span class="n">ReLam</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">logspace</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="mi">670</span><span class="p">),</span><span class="n">math</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">pc</span><span class="o">.</span><span class="n">RE_TRANSITION_PIPE</span><span class="p">),</span><span class="n">Gpoint</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="b">
<h2>12b)<a class="headerlink" href="#b" title="Permalink to this headline">¶</a></h2>
<p>Now you will create the y-axis values for turbulent flow (based on
dimensionless pipe roughness) and laminar flow (not based on
dimensionless pipe roughness). To do this, you will use the <code class="docutils literal notranslate"><span class="pre">fofRe()</span></code>
function you wrote in Problem 11 to find the friction factors.</p>
<p>Begin by creating an empty 2-dimensional array that will be populated by
the turbulent-flow friction factors for each dimensionless pipe
roughness. Use <code class="docutils literal notranslate"><span class="pre">np.zeros(number</span> <span class="pre">of</span> <span class="pre">rows,</span> <span class="pre">number</span> <span class="pre">of</span> <span class="pre">columns)</span></code>. The
number of rows should be the number of dimensionless pipe roughness
values (<code class="docutils literal notranslate"><span class="pre">len(eGraph)</span></code>), while the number of columns should be the
number of data points per curve as defined above.</p>
<p>Populating this array with friction factor values will require two
<code class="docutils literal notranslate"><span class="pre">for</span></code> loops, one to iterate through rows and one to iterate through
columns. Recall that <code class="docutils literal notranslate"><span class="pre">for</span></code> loop syntax is as follows:</p>
<p><code class="docutils literal notranslate"><span class="pre">example</span> <span class="pre">=</span> <span class="pre">np.zeros((40,</span> <span class="pre">30))</span> <span class="pre">for</span> <span class="pre">i</span> <span class="pre">in</span> <span class="pre">range(0,</span> <span class="pre">40):</span>&#160;&#160;&#160;&#160; <span class="pre">for</span> <span class="pre">j</span> <span class="pre">in</span> <span class="pre">range(0,</span> <span class="pre">30):</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">example[i,j]</span> <span class="pre">=</span> <span class="pre">function(buncha[i],stuff[j])</span></code></p>
<p>where <code class="docutils literal notranslate"><span class="pre">buncha</span></code> and <code class="docutils literal notranslate"><span class="pre">stuff</span></code> are arrays.</p>
<p>You will repeat this process to find the friction factors for laminar
flow. The only difference between the turbulent and laminar friction
flow arrays will be that the laminar array will only have one dimension
since it does not affected by the dimensionless pipe roughness. Start by
creating an empty 1-dimensional array and then use a single <code class="docutils literal notranslate"><span class="pre">for</span></code>
loop.</p>
<p><strong>12b) Deliverables</strong> * One 1-D array containing friction factor values
for laminar flow. * One 2-D array containing friction factor values for
each dimensionless pipe roughness for turbulent flow.</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fLam</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">Gpoint</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">Gpoint</span><span class="p">):</span>
    <span class="n">fLam</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">fofRe</span><span class="p">(</span><span class="n">ReLam</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="mi">0</span><span class="p">)</span>

<span class="n">fG</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="nb">len</span><span class="p">(</span><span class="n">eGraph</span><span class="p">),</span><span class="n">Gpoint</span><span class="p">))</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">eGraph</span><span class="p">)):</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">Gpoint</span><span class="p">):</span>
        <span class="n">fG</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]</span><span class="o">=</span><span class="n">fofRe</span><span class="p">(</span><span class="n">ReG</span><span class="p">[</span><span class="n">j</span><span class="p">],</span><span class="n">eGraph</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>

<span class="c1">###Another way (probably better) is to make only 1 for loop like the following example</span>
<span class="c1">#fLam_opt = np.zeros((1,Gpoint))</span>
<span class="c1">#fG_opt = np.zeros((len(eGraph),Gpoint))</span>

<span class="c1">#for i in range(0, Gpoint):</span>
 <span class="c1">#   fLam_opt[0,i] = fofRe(1,ReLam[i])</span>
 <span class="c1">#   for j in range(0, len(eGraph)):</span>
 <span class="c1">#      fG_opt[j,i] = fofRe(eGraph[j],ReG[i])</span>
</pre></div>
</div>
</div>
<div class="section" id="c">
<h2>12c)<a class="headerlink" href="#c" title="Permalink to this headline">¶</a></h2>
<p>Now, we are ready to start making the Moody diagram!!!!!1!!! The plot
formatting is included for you in the cell below. You will add to this
cell the code that will actually plot the arrays you brought into
existence in 12a) and 12b) with a legend. For the sake of your own
sanity, please only add code where specified.</p>
<ul class="simple">
<li>First, plot your arrays. See the plots in the tutorial above for the
syntax. Recall that each dimensionless pipe roughness is a separate
row within the 2-D array you created. To plot these roughnesses as
separate curves, use a <code class="docutils literal notranslate"><span class="pre">for</span></code> loop to iterate through the rows of
your array. To plot all columns in a particular row, use the
<code class="docutils literal notranslate"><span class="pre">[1,:]</span></code> call on an array, where 1 is the row you are calling.</li>
<li>Plotting the laminar flow curve does not require a <code class="docutils literal notranslate"><span class="pre">for</span></code> loop
because it is a 1-D array.<ul>
<li>Use a linewidth of 4 for all curves.</li>
</ul>
</li>
<li>Now plot the data point you calculated in DC Python Tutorial 1,
conveniently located a few problems above this one. Use the Reynolds
number and friction factor obtained in Problem 5. Because this is a
single point, it should be plotted as a circle instead of a line.
Because a line composed of a single point does not exist.</li>
<li>You will need to make a legend for the graph using
<code class="docutils literal notranslate"><span class="pre">leg</span> <span class="pre">=</span> <span class="pre">plt.legend(stringarray,</span> <span class="pre">loc</span> <span class="pre">=</span> <span class="pre">'best')</span></code><ul>
<li>The first input, <code class="docutils literal notranslate"><span class="pre">stringarray</span></code>, must be an array composed of
strings instead of numbers. The array you created which contains
the dimensionless pipe roughness values (<code class="docutils literal notranslate"><span class="pre">eGraph</span></code>) can be
converted into a string array for your legend
(<code class="docutils literal notranslate"><span class="pre">eGraph.astype('str'))</span></code>. You will need to add ‘Laminar’ and
‘Pipeline’ as strings to the new <code class="docutils literal notranslate"><span class="pre">eGraph</span></code> string array. Perhaps
you will find <code class="docutils literal notranslate"><span class="pre">np.append(basestring,</span> <span class="pre">[('string1','string2')])</span></code>
to be useful ;)</li>
</ul>
</li>
</ul>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#Set the size of the figure to make it big!</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="s1">&#39;ax&#39;</span><span class="p">,(</span><span class="mi">10</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>


<span class="c1">#--------------------------------------------------------------------------------------</span>
<span class="c1">#---------------------WRITE CODE BELOW-------------------------------------------------</span>
<span class="c1">#--------------------------------------------------------------------------------------</span>
<span class="c1">#You should begin by plotting your data.</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">fG</span><span class="p">)):</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span> <span class="n">ReG</span><span class="p">,</span><span class="n">fG</span><span class="p">[</span><span class="n">i</span><span class="p">,:],</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="n">linewidth</span> <span class="o">=</span> <span class="mi">4</span><span class="p">)</span>

<span class="c1">#fig = plt.figure()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ReLam</span><span class="p">,</span><span class="n">fLam</span><span class="p">,</span><span class="s1">&#39;k-&#39;</span><span class="p">,</span><span class="n">linewidth</span> <span class="o">=</span> <span class="mi">4</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">pipeline_Re</span><span class="p">,</span><span class="n">fPipe</span><span class="p">,</span><span class="s1">&#39;ko&#39;</span><span class="p">)</span>

<span class="c1">#Your legend should go below. If you try to make your legend before you make you plot your data, the legend will not show and you will be dazed and confused.</span>
<span class="n">mylegend</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">eGraph</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;str&#39;</span><span class="p">),[(</span><span class="s1">&#39;laminar&#39;</span><span class="p">,</span> <span class="s1">&#39;Pipeline&#39;</span><span class="p">)])</span>
<span class="n">leg</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">mylegend</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="s1">&#39;best&#39;</span><span class="p">)</span>

<span class="c1">#--------------------------------------------------------------------------------------</span>
<span class="c1">#---------------------WRITE CODE ABOVE-------------------------------------------------</span>
<span class="c1">#--------------------------------------------------------------------------------------</span>

<span class="c1">#LOOK AT ALL THIS COOL CODE!</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yscale</span><span class="p">(</span><span class="s1">&#39;log&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xscale</span><span class="p">(</span><span class="s1">&#39;log&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">b</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">which</span><span class="o">=</span><span class="s1">&#39;major&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>

<span class="c1">#Set the grayscale of the minor gridlines. Note that 1 is white and 0 is black.</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">b</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">which</span><span class="o">=</span><span class="s1">&#39;minor&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;0.5&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>

<span class="c1">#The next 2 lines of code are used to set the transparency of the legend to 1.</span>
<span class="c1">#The default legend setting was transparent and was cluttered.</span>


<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Reynolds number&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Friction factor&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<div class="figure" id="id20">
<img alt="png" src="Introduction/DC_Python_Tutorial_2_Solution_files/DC_Python_Tutorial_2_Solution_100_0.png" />
<p class="caption"><span class="caption-number">Fig. 18 </span><span class="caption-text">png</span></p>
</div>
</div>
<div class="section" id="section-12">
<span id="id13"></span><h2>13)<a class="headerlink" href="#section-12" title="Permalink to this headline">¶</a></h2>
<p>Researchers in the AguaClara laboratory collected the following head
loss data through a 1/8” diameter tube that was 2 m long using water at
22°C. The data is in a comma separated data (.csv) file named
<a class="reference external" href="https://github.com/AguaClara/CEE4540_DC/blob/master/Head_loss_vs_Flow_dosing_tube_data.csv">‘Head_loss_vs_Flow_dosing_tube_data.csv’</a>.
Use the pandas read csv function (<code class="docutils literal notranslate"><span class="pre">pd.read_csv('filename.csv')</span></code>) to
read the data file. Display the data so you can see how it is formatted.</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">head_loss_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;Head_loss_vs_Flow_dosing_tube_data.csv&#39;</span><span class="p">)</span>
<span class="n">head_loss_data</span>
</pre></div>
</div>
</div>
<div class="section" id="id14">
<h2>14)<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h2>
<p>Using the data table from Problem 13, assign the head loss <strong>and flow
rate</strong> data to separate 1-D arrays. Attach the correct units.
<code class="docutils literal notranslate"><span class="pre">np.array</span></code> can extract the data by simply inputting the text string of
the column header. Here is example code to create the first array:</p>
<p><code class="docutils literal notranslate"><span class="pre">HL_data=np.array(head_loss_data['Head</span> <span class="pre">loss</span> <span class="pre">(m)'])*u.m</span></code></p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">HL_data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">head_loss_data</span><span class="p">[</span><span class="s1">&#39;Head loss (m)&#39;</span><span class="p">])</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">m</span>
<span class="n">Q_data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">head_loss_data</span><span class="p">[</span><span class="s1">&#39;Flow rate (mL/min)&#39;</span><span class="p">])</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">mL</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">min</span>
</pre></div>
</div>
</div>
<div class="section" id="section-14">
<span id="id15"></span><h2>15)<a class="headerlink" href="#section-14" title="Permalink to this headline">¶</a></h2>
<p>Calculate and report the maximum and minimum Reynolds number for this
data set. Use the tube and temperature parameters specified in Problem
13. Use the <code class="docutils literal notranslate"><span class="pre">min</span></code> and <code class="docutils literal notranslate"><span class="pre">max</span></code> functions which take arrays as their
inputs.</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">D_tube</span><span class="o">=</span><span class="mi">1</span><span class="o">/</span><span class="mi">8</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">inch</span>
<span class="n">L_tube</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">m</span>
<span class="n">T_data</span><span class="o">=</span><span class="n">u</span><span class="o">.</span><span class="n">Quantity</span><span class="p">(</span><span class="mi">22</span><span class="p">,</span><span class="n">u</span><span class="o">.</span><span class="n">degC</span><span class="p">)</span>
<span class="n">nu_data</span><span class="o">=</span><span class="n">pc</span><span class="o">.</span><span class="n">viscosity_kinematic</span><span class="p">(</span><span class="n">T_data</span><span class="p">)</span>
<span class="n">Re_data_max</span><span class="o">=</span><span class="nb">max</span><span class="p">(</span><span class="n">pc</span><span class="o">.</span><span class="n">re_pipe</span><span class="p">(</span><span class="n">Q_data</span><span class="p">,</span><span class="n">D_tube</span><span class="p">,</span><span class="n">nu_data</span><span class="p">))</span>
<span class="n">Re_data_min</span><span class="o">=</span><span class="nb">min</span><span class="p">(</span><span class="n">pc</span><span class="o">.</span><span class="n">re_pipe</span><span class="p">(</span><span class="n">Q_data</span><span class="p">,</span><span class="n">D_tube</span><span class="p">,</span><span class="n">nu_data</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The Reynolds number varied from &#39;</span><span class="o">+</span><span class="n">ut</span><span class="o">.</span><span class="n">sig</span><span class="p">(</span><span class="n">Re_data_min</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39; to &#39;</span><span class="o">+</span><span class="n">ut</span><span class="o">.</span><span class="n">sig</span><span class="p">(</span><span class="n">Re_data_max</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The Reynolds number varied from 2.9e+2 to 1.0e+3.</p>
</div>
<div class="section" id="section-15">
<span id="id16"></span><h2>16)<a class="headerlink" href="#section-15" title="Permalink to this headline">¶</a></h2>
<p>You will now create a graph of headloss vs flow for the tube mentioned
in the previous problems. This graph will have two sets of data: the
real data contained within the csv file and some theoretical data. The
theoretical data is what we would expect the headloss through the tube
to be in an ideal world for any given flow. When calculating the
theoretical headloss, assume that minor losses are negligible. Plot the
data from the csv file as individual data points and the theoretical
headloss as a continuous curve. Make the y-axis have units of cm and the
x-axis have units of mL/s.</p>
<p>A few hints. * To find the theoretical headloss, you will first need to
create an array of different flow values. While you could use the values
in the csv file that you extracted in Problem 14, we would instead like
you to create an array of 50 equally-spaced flow values. These values
shall be between the minimum and maximum flows in the csv file. * You
can use the <code class="docutils literal notranslate"><span class="pre">np.linspace(input1,</span> <span class="pre">input2,</span> <span class="pre">input3)</span></code> function to create
this set of equally-spaced flows. Inputs for <code class="docutils literal notranslate"><span class="pre">np.linspace</span></code> are the
same as they were for <code class="docutils literal notranslate"><span class="pre">np.logspace</span></code>, which was used in Problem 12a).
Linspace does not work with units; you will need to remove the units
(using <code class="docutils literal notranslate"><span class="pre">.magnitude</span></code>) from the inputs to <code class="docutils literal notranslate"><span class="pre">np.logspace</span></code> and then
reattach the correct units of flow after creating the array. * The
<code class="docutils literal notranslate"><span class="pre">pc.headloss_fric</span></code> function can handle arrays as inputs, so that makes
it easy to produce the theoretical headloss array once you have finished
your equally-spaced flow array. * When using <code class="docutils literal notranslate"><span class="pre">plt.plot</span></code>, make sure to
convert the flow and headloss data to the desired units.</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Qpoint</span><span class="o">=</span><span class="mi">50</span>

<span class="n">QGraph</span><span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">((</span><span class="nb">min</span><span class="p">(</span><span class="n">Q_data</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">mL</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">s</span><span class="p">))</span><span class="o">.</span><span class="n">magnitude</span><span class="p">,</span> <span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">Q_data</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">mL</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">s</span><span class="p">))</span><span class="o">.</span><span class="n">magnitude</span><span class="p">,</span> <span class="n">Qpoint</span><span class="p">)</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">mL</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">s</span>


<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">Q_data</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">mL</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">s</span><span class="p">),</span><span class="n">HL_data</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">cm</span><span class="p">),</span><span class="s1">&#39;o&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">QGraph</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">mL</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">s</span><span class="p">),</span><span class="n">pc</span><span class="o">.</span><span class="n">headloss_fric</span><span class="p">(</span><span class="n">QGraph</span><span class="p">,</span><span class="n">D_tube</span><span class="p">,</span><span class="n">L_tube</span><span class="p">,</span><span class="n">nu_data</span><span class="p">,</span><span class="mi">0</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">mm</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">cm</span><span class="p">),</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span><span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>


<span class="n">leg</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">([</span><span class="s1">&#39;data&#39;</span><span class="p">,</span><span class="s1">&#39;theoretical major losses&#39;</span><span class="p">],</span> <span class="n">loc</span><span class="o">=</span><span class="s1">&#39;best&#39;</span><span class="p">)</span>
<span class="c1">#leg.get_frame().set_alpha(1)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Flow rate (mL/s)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Head loss (cm)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<div class="figure" id="id21">
<img alt="png" src="Introduction/DC_Python_Tutorial_2_Solution_files/DC_Python_Tutorial_2_Solution_108_0.png" />
<p class="caption"><span class="caption-number">Fig. 19 </span><span class="caption-text">png</span></p>
</div>
<p>The theoretical model doesn’t fit the data very well. We assumed that
major losses dominated. But that assumption was wrong. So let’s try a
more sophisticated approach where we fit minor losses to the data. Below
we demonstrate the use of the <a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.curve_fit.html#scipy.optimize.curve_fit">scipy curve_fit
method</a>
to fit the minor loss coefficient given this data set. In this example,
<code class="docutils literal notranslate"><span class="pre">Q_data</span></code> is the flow rate array for the csv file from problem 13. You
should re-name this variable below to whatever you titled this variable.</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">scipy.optimize</span> <span class="k">import</span> <span class="n">curve_fit</span>

<span class="c1"># Define a new function that calculates head loss given the flow rate</span>
<span class="c1"># and the parameter that we want to use curve fitting to estimate</span>
<span class="c1"># Define the other known values inside the function because we won&#39;t be passing those parameters to the function.</span>

<span class="k">def</span> <span class="nf">HL_curvefit</span><span class="p">(</span><span class="n">FlowRate</span><span class="p">,</span> <span class="n">KMinor</span><span class="p">):</span>
    <span class="c1"># The tubing is smooth AND pipe roughness isn&#39;t significant for laminar flow.</span>
    <span class="n">PipeRough</span> <span class="o">=</span> <span class="mi">0</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">mm</span>
    <span class="n">L_tube</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">m</span>
    <span class="n">T_data</span> <span class="o">=</span> <span class="n">u</span><span class="o">.</span><span class="n">Quantity</span><span class="p">(</span><span class="mi">22</span><span class="p">,</span><span class="n">u</span><span class="o">.</span><span class="n">degC</span><span class="p">)</span>
    <span class="n">nu_data</span> <span class="o">=</span> <span class="n">pc</span><span class="o">.</span><span class="n">viscosity_kinematic</span><span class="p">(</span><span class="n">T_data</span><span class="p">)</span>
    <span class="n">D_tube</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="mi">8</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">inch</span>
    <span class="c1"># pass all of the parameters to the head loss function and then strip the units so</span>
    <span class="c1"># the curve fitting function can handle the data.</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">pc</span><span class="o">.</span><span class="n">headloss</span><span class="p">(</span><span class="n">FlowRate</span><span class="p">,</span> <span class="n">D_tube</span><span class="p">,</span> <span class="n">L_tube</span><span class="p">,</span> <span class="n">nu_data</span><span class="p">,</span> <span class="n">PipeRough</span><span class="p">,</span> <span class="n">KMinor</span><span class="p">))</span><span class="o">.</span><span class="n">magnitude</span>

<span class="c1"># The curve fit function will need bounds on the unknown parameters to find a real solution.</span>
<span class="c1"># The bounds for K minor are 0 and 20.</span>

<span class="c1"># The curve fit function returns a list that includes the optimal parameters and the covariance.</span>

<span class="n">popt</span><span class="p">,</span> <span class="n">pcov</span> <span class="o">=</span> <span class="n">curve_fit</span><span class="p">(</span><span class="n">HL_curvefit</span><span class="p">,</span> <span class="n">Q_data</span><span class="p">,</span> <span class="n">HL_data</span><span class="p">,</span> <span class="n">bounds</span><span class="o">=</span><span class="p">[[</span><span class="mf">0.</span><span class="p">],[</span><span class="mi">20</span><span class="p">]])</span>

<span class="n">K_minor_fit</span> <span class="o">=</span> <span class="n">popt</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

<span class="c1"># Plot the raw data</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">Q_data</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">mL</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">s</span><span class="p">),</span> <span class="n">HL_data</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">cm</span><span class="p">),</span> <span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;data&#39;</span><span class="p">)</span>

<span class="c1"># Plot the curve fit equation.</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">Q_data</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">mL</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">s</span><span class="p">),</span> <span class="p">((</span><span class="n">HL_curvefit</span><span class="p">(</span><span class="n">Q_data</span><span class="p">,</span> <span class="o">*</span><span class="n">popt</span><span class="p">))</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">m</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">cm</span><span class="p">),</span> <span class="s1">&#39;r-&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;fit&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Flow rate (mL/s)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Head loss (cm)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1">#Calculate the root mean square error to estimate the goodness of fit of the model to the data</span>
<span class="n">RMSE_Kminor</span> <span class="o">=</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">var</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">subtract</span><span class="p">((</span><span class="n">HL_curvefit</span><span class="p">(</span><span class="n">Q_data</span><span class="p">,</span> <span class="o">*</span><span class="n">popt</span><span class="p">)),</span><span class="n">HL_data</span><span class="o">.</span><span class="n">magnitude</span><span class="p">)))</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">m</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">cm</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The root mean square error for the model fit when adjusting the minor loss coefficient was &#39;</span><span class="o">+</span><span class="n">ut</span><span class="o">.</span><span class="n">sig</span><span class="p">(</span><span class="n">RMSE_Kminor</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
</pre></div>
</div>
<div class="figure" id="id22">
<img alt="png" src="Introduction/DC_Python_Tutorial_2_Solution_files/DC_Python_Tutorial_2_Solution_110_0.png" />
<p class="caption"><span class="caption-number">Fig. 20 </span><span class="caption-text">png</span></p>
</div>
<p>The root mean square error for the model fit when adjusting the minor
loss coefficient was 0.39 cm</p>
</div>
<div class="section" id="section-16">
<span id="id17"></span><h2>17)<a class="headerlink" href="#section-16" title="Permalink to this headline">¶</a></h2>
<p>Repeat the analysis from the previous cell, but this time assume that
the minor loss coefficient is zero and that diameter is the unknown
parameter. The bounds specified in the line beginning with
<code class="docutils literal notranslate"><span class="pre">popt,</span> <span class="pre">pcov</span></code> should be changed from the previous question (which had
bounds from 0 to 20) to the new bounds of 0.001 to 0.01.</p>
<p>Hint: Don’t think too much about this, you only need to change the name
of the defined function (perhaps “<code class="docutils literal notranslate"><span class="pre">HL_curvefit2</span></code>”?) and adjust its
inputs/values.</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Define a new function that calculates head loss given the flow rate</span>
<span class="c1"># and the parameter that we want to use curve fitting to estimate</span>
<span class="c1"># Define the other known values inside the function because we won&#39;t be passing those parameters to the function.</span>

<span class="k">def</span> <span class="nf">HL_curvefit2</span><span class="p">(</span><span class="n">FlowRate</span><span class="p">,</span> <span class="n">D_tube</span><span class="p">):</span>
    <span class="c1"># The tubing is smooth AND pipe roughness isn&#39;t significant for laminar flow.</span>
    <span class="n">PipeRough</span> <span class="o">=</span> <span class="mi">0</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">mm</span>
    <span class="n">L_tube</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">m</span>
    <span class="n">T_data</span><span class="o">=</span><span class="n">u</span><span class="o">.</span><span class="n">Quantity</span><span class="p">(</span><span class="mi">22</span><span class="p">,</span><span class="n">u</span><span class="o">.</span><span class="n">degC</span><span class="p">)</span>
    <span class="n">nu_data</span><span class="o">=</span><span class="n">pc</span><span class="o">.</span><span class="n">viscosity_kinematic</span><span class="p">(</span><span class="n">T_data</span><span class="p">)</span>
    <span class="n">KMinor</span><span class="o">=</span><span class="mi">0</span>
    <span class="c1"># pass all of the parameters to the head loss function and then strip the units so</span>
    <span class="c1"># the curve fitting function can handle the data.</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">pc</span><span class="o">.</span><span class="n">headloss</span><span class="p">(</span><span class="n">FlowRate</span><span class="p">,</span> <span class="n">D_tube</span><span class="p">,</span> <span class="n">L_tube</span><span class="p">,</span> <span class="n">nu_data</span><span class="p">,</span> <span class="n">PipeRough</span><span class="p">,</span> <span class="n">KMinor</span><span class="p">))</span><span class="o">.</span><span class="n">magnitude</span>

<span class="c1"># The curve fit function will need bounds on the two unknown parameters to find a real solution.</span>
<span class="c1"># The bounds for the diameter are 1 to 10 mm and must be given in meters.</span>
<span class="c1"># The curve fit function returns a list that includes the optimal parameters and the covariance.</span>

<span class="n">popt</span><span class="p">,</span> <span class="n">pcov</span> <span class="o">=</span> <span class="n">curve_fit</span><span class="p">(</span><span class="n">HL_curvefit2</span><span class="p">,</span> <span class="n">Q_data</span><span class="p">,</span> <span class="n">HL_data</span><span class="p">,</span> <span class="n">bounds</span><span class="o">=</span><span class="p">[[</span><span class="mf">0.001</span><span class="p">],[</span><span class="mf">0.01</span><span class="p">]])</span>

<span class="n">D_tube_fit</span> <span class="o">=</span> <span class="n">popt</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">m</span>

<span class="c1"># Plot the raw data</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">Q_data</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">mL</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">s</span><span class="p">),</span> <span class="n">HL_data</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">cm</span><span class="p">),</span> <span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;data&#39;</span><span class="p">)</span>

<span class="c1"># Plot the curve fit equation.</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">Q_data</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">mL</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">s</span><span class="p">),</span> <span class="p">((</span><span class="n">HL_curvefit2</span><span class="p">(</span><span class="n">Q_data</span><span class="p">,</span> <span class="o">*</span><span class="n">popt</span><span class="p">))</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">m</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">cm</span><span class="p">),</span> <span class="s1">&#39;r-&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;fit&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Flow rate (mL/s)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Head loss (cm)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1">#Calculate the root mean square error to estimate the goodness of fit of the model to the data</span>
<span class="n">RMSE_Diameter</span> <span class="o">=</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">var</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">subtract</span><span class="p">((</span><span class="n">HL_curvefit2</span><span class="p">(</span><span class="n">Q_data</span><span class="p">,</span> <span class="o">*</span><span class="n">popt</span><span class="p">)),</span><span class="n">HL_data</span><span class="o">.</span><span class="n">magnitude</span><span class="p">)))</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">m</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">cm</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The root mean square error for the model fit when adjusting the diameter was &#39;</span><span class="o">+</span><span class="n">ut</span><span class="o">.</span><span class="n">sig</span><span class="p">(</span><span class="n">RMSE_Diameter</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
</pre></div>
</div>
<div class="figure" id="id23">
<img alt="png" src="Introduction/DC_Python_Tutorial_2_Solution_files/DC_Python_Tutorial_2_Solution_112_0.png" />
<p class="caption"><span class="caption-number">Fig. 21 </span><span class="caption-text">png</span></p>
</div>
<p>The root mean square error for the model fit when adjusting the diameter
was 0.47 cm</p>
</div>
<div class="section" id="section-17">
<span id="id18"></span><h2>18<a class="headerlink" href="#section-17" title="Permalink to this headline">¶</a></h2>
<p>Changes to which of the two parameters, minor loss coefficient or tube
diameter, results in a better fit to the data?</p>
<p>The root mean square error was smaller when the minor loss coefficient
was varied to fit the data.</p>
</div>
<div class="section" id="section-18">
<span id="id19"></span><h2>19<a class="headerlink" href="#section-18" title="Permalink to this headline">¶</a></h2>
<p>What did you find most difficult about learning to use Python? Create a
brief example as an extension to this tutorial to help students learn
the topic that you found most difficult.</p>
<div class="section" id="final-pointer">
<h3>Final Pointer<a class="headerlink" href="#final-pointer" title="Permalink to this headline">¶</a></h3>
<p>It is good practice to select Restart &amp; Run All from the Kernel menu
after completing an assignment to make sure that everything in your
notebook works correctly and that you haven’t deleted an essential line
of code!</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#I had trouble with the for loop and filling an array and plotting that array</span>
<span class="c1">#Problem: use a for loop to make an array where each point is a sum of the indices</span>
<span class="c1">#ex array[1,1]=2, etc</span>

<span class="n">array</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">):</span> <span class="c1">#if you want to start from 0, you don&#39;t need to include 0, but if you</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">):</span> <span class="c1">#wanted a range going from 1 to 7 you would put range(1,7)</span>
        <span class="n">array</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]</span><span class="o">=</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="o">+</span><span class="n">j</span><span class="o">+</span><span class="mi">1</span> <span class="c1">#python starts to count from 1</span>

<span class="nb">print</span><span class="p">(</span><span class="n">array</span><span class="p">)</span>
</pre></div>
</div>
<p>[[ 2. 3.] [ 3. 4.]]</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;I found creating arrays to be particularly difficult. For example, creating an empty 2-D array with 30 rows and 2 columns shown below&#39;</span><span class="p">)</span>
<span class="c1">#Example of how to create a 2-D array of zeros</span>
<span class="n">example</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">30</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="n">example</span>
</pre></div>
</div>
<p>I found creating arrays to be particularly difficult. For example,
creating an empty 2-D array with 30 rows and 2 columns shown below</p>
<p>array([[ 0., 0.], [ 0., 0.], [ 0., 0.], [ 0., 0.], [ 0., 0.], [ 0., 0.],
[ 0., 0.], [ 0., 0.], [ 0., 0.], [ 0., 0.], [ 0., 0.], [ 0., 0.], [ 0.,
0.], [ 0., 0.], [ 0., 0.], [ 0., 0.], [ 0., 0.], [ 0., 0.], [ 0., 0.], [
0., 0.], [ 0., 0.], [ 0., 0.], [ 0., 0.], [ 0., 0.], [ 0., 0.], [ 0.,
0.], [ 0., 0.], [ 0., 0.], [ 0., 0.], [ 0., 0.]])</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The most difficult part is the units conversion. My suggestion would be to list all the values with SI units at first place, so that we can know what units we have. Then once we encounter any English unit, we will use the *u.units to call the original units.&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The most difficult part is the units conversion. My suggestion would be
to list all the values with SI units at first place, so that we can know
what units we have. Then once we encounter any English unit, we will use
the *u.units to call the original units.</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#Getting the units to match up with what you want.</span>
<span class="c1">#It was hard to keep track of where to change the units and what the units of these arrays and variables are.</span>

<span class="c1">#Example</span>
<span class="c1">#A plant can process 1,300 L/day.</span>
<span class="c1">#The users want to know how many seconds it will take to fill their water jugs which are cylinders of radius 5 cm and height of 10 inches.</span>

<span class="c1">#Answer</span>
<span class="n">plantFL</span> <span class="o">=</span> <span class="mi">1300</span> <span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">l</span> <span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">day</span>
<span class="n">jugVol</span> <span class="o">=</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="p">(</span><span class="mi">5</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">cm</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="mi">10</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">inch</span>
<span class="n">time</span> <span class="o">=</span> <span class="p">(</span><span class="n">jugVol</span><span class="o">/</span><span class="n">plantFL</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">s</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The time to fill the jug is &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">sig</span><span class="p">(</span><span class="n">time</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;.&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The time to fill the jug is 133 s.</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># In order to create a evenly spaced array use the function linspace, but take out the units and bring them back in.</span>
<span class="c1">#flow_data = np.linspace(min(FR_data).to(u.mL/u.s).magnitude,max(FR_data).to(u.mL/u.s).magnitude,50)*u.mL/u.s</span>
</pre></div>
</div>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#indentation</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">):</span>
            <span class="k">if</span><span class="p">(</span> <span class="n">i</span> <span class="o">!=</span> <span class="n">k</span> <span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">i</span> <span class="o">!=</span> <span class="n">j</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">j</span> <span class="o">!=</span> <span class="n">k</span><span class="p">):</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">sig</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">))</span>
</pre></div>
</div>
<p>1.0 1.0 1.00 1.00 1.000 1.000 2 2 2.00 2.00 2.000 2.000 3 3 3.0 3.0
3.000 3.000 4 4 4.0 4.0 4.00 4.00</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># When learning how to use python, I found the if /else if/ else statement could be confused</span>
<span class="c1"># though we did not use them a lot in DC1/2, they still worth mention</span>
<span class="c1"># little example attached</span>
<span class="n">x</span> <span class="o">=</span> <span class="mi">2</span>

<span class="k">if</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;x &lt; 0&#39;</span><span class="p">)</span>                      <span class="c1"># executes only if x &lt; 0</span>
<span class="k">elif</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;x is zero&#39;</span><span class="p">)</span>                 <span class="c1"># if it&#39;s not true that x &lt; 0, check if x == 0</span>
<span class="k">elif</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;x == 1&#39;</span><span class="p">)</span>                    <span class="c1"># if it&#39;s not true that x &lt; 0 and x != 0, check if x == 1</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;non of the above is true&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>non of the above is true</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#The unit conversions from a given set of data to a graphical representation (such as mL/min given data to mL/s graphical data)</span>

<span class="c1">#Make a smooth plot that represents the theoretical range of head loss values for a pipe with a minimum flow rate of 60 L/min</span>
<span class="c1">#and a maximum of 110 L/min. The tube is 5 m long and has a diameter of a 1/4&quot;. It&#39;s chilly where this pipe is hanging out,</span>
<span class="c1">#so the temperature is 5 degrees Celsius. It&#39;s a pretty ~cool~ pipe to say the least. The plot should be mL/s of flow vs m of head loss.</span>

<span class="n">numpoints</span> <span class="o">=</span> <span class="mi">50</span>
<span class="n">Diam</span> <span class="o">=</span> <span class="o">.</span><span class="mi">25</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">inch</span>
<span class="n">Length</span> <span class="o">=</span> <span class="mi">5</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">m</span>
<span class="n">Temp</span> <span class="o">=</span> <span class="n">u</span><span class="o">.</span><span class="n">Quantity</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="n">u</span><span class="o">.</span><span class="n">degC</span><span class="p">)</span>
<span class="n">Nu</span> <span class="o">=</span> <span class="n">pc</span><span class="o">.</span><span class="n">viscosity_kinematic</span><span class="p">(</span><span class="n">Temp</span><span class="p">)</span>
<span class="n">PipeRough</span> <span class="o">=</span> <span class="o">.</span><span class="mi">1</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">mm</span>
<span class="n">MaxFlow</span> <span class="o">=</span> <span class="mi">110</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">L</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">min</span>
<span class="n">MinFlow</span> <span class="o">=</span> <span class="mi">60</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">L</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">min</span>
<span class="n">FlowRate</span> <span class="o">=</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">MinFlow</span><span class="o">.</span><span class="n">magnitude</span><span class="p">,</span> <span class="n">MaxFlow</span><span class="o">.</span><span class="n">magnitude</span><span class="p">,</span> <span class="n">numpoints</span><span class="p">))</span><span class="o">*</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">L</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">min</span><span class="p">)</span>
<span class="n">Headloss</span> <span class="o">=</span> <span class="n">pc</span><span class="o">.</span><span class="n">headloss_fric</span><span class="p">(</span><span class="n">FlowRate</span><span class="p">,</span> <span class="n">Diam</span><span class="p">,</span> <span class="n">Length</span><span class="p">,</span> <span class="n">Nu</span><span class="p">,</span> <span class="n">PipeRough</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">FlowRate</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">mL</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">s</span><span class="p">),</span> <span class="n">Headloss</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">m</span><span class="p">),</span> <span class="s1">&#39;-&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Flow Rate (mL/s)&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Head Loss (m)&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1">#it&#39;s not a very good pipe design, but you get the point</span>
</pre></div>
</div>
<div class="figure" id="id24">
<img alt="png" src="Introduction/DC_Python_Tutorial_2_Solution_files/DC_Python_Tutorial_2_Solution_124_0.png" />
<p class="caption"><span class="caption-number">Fig. 22 </span><span class="caption-text">png</span></p>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../Review/Review_Fluid_Mechanics.html" class="btn btn-neutral float-right" title="Review: Fluid Mechanics" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="Python_Tutorial.html" class="btn btn-neutral" title="Python Tutorial" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, AguaClara Cornell.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/mathjax_config.js"></script>

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>